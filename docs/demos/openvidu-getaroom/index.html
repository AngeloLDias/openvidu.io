---
layout: docs-layout
title: OpenVidu Documentation - openvidu-getaroom
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('openvidu-getaroom')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('openvidu-getaroom')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Tutorials</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/">Intro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-webcomponent/">openvidu-webcomponent</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-library-angular/">openvidu-library-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-insecure-react/">openvidu-insecure-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-library-react/">openvidu-library-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-android/">openvidu-android</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-ionic/">openvidu-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-react-native/">openvidu-react-native</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-electron/">openvidu-electron</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Demos</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 current">
        <a class="current" href="./">openvidu-getaroom</a>  
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../openvidu-call/">openvidu-call</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../openvidu-call-react/">openvidu-call-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../openvidu-call-ionic/">openvidu-call-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Cheatsheet</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/join-session/">Join a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/leave-session/">Leave a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/manage-videos/">Manage video players</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/share-data/">Share data between users</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../cheatsheet/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Advanced features</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/filters/">Voice and video filters</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../advanced-features/switch-camera/">Switch camera</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Reference Documentation</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-browser/">openvidu-browser API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-java-client/">openvidu-java-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-node-client/">openvidu-node-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/REST-API/">REST  API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../reference-docs/openvidu-server-webhook/">OpenVidu Server Webhook</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Deployment</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../deployment/deploying-aws/">Deploying OpenVidu on AWS</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../deployment/deploying-ubuntu/">Deploying OpenVidu on Ubuntu</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../deployment/deploying-app/">Deploying your OpenVidu app</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../deployment/upgrading/">Upgrading OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li  class="subnav_drop">
        <div><span>Contribute</span></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../developing/rpc/">OpenVidu Server RPC protocol</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li class="toctree-l1 ">
        <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul>

<li  style="width: 100%; display: inline-block"  class="subnav_drop">
        <div><span>OpenVidu Pro</span><a style="all: unset; display: inline"
                        href="/docs/openvidu-pro/">
                        <div id="openvidu-pro-tag" style="float: right; background-color: rgb(0, 136, 170); color: white; font-weight: bold; padding: 0px 5px; border-radius: 3px; font-size: 13px; line-height:21px; font-family: Montserrat, sans-serif;">PRO</div>
                </a></div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/">Home</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/openvidu-inspector/">OpenVidu Inspector</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/detailed-session-monitoring/">Detailed session monitoring</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/scalability/">Scalability</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/deploying-openvidu-pro/">Deploying OpenVidu Pro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="../../openvidu-pro/REST-API-pro/">REST API Pro</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h1 id="openvidu-getaroom">openvidu-getaroom</h1>
<p><a href="https://github.com/OpenVidu/openvidu-tutorials/tree/master/openvidu-getaroom" target="_blank"><i class="icon ion-social-github"> Check it on GitHub</i></a></p>
<p>OpenVidu-Getaroom demo, <strong>built with Vanilla JS, </strong> allows users to connect to a room and share the link with others, so they can connect to it straight away just by visiting that link. It is a frontend-only application and it makes use of OpenVidu the same way <a href="../../tutorials/openvidu-insecure-js/" target="_blank">openvidu-insecure-js</a> does.</p>
<p align="center">
  <img  class="img-responsive" src="/img/tutorials/openvidu-getaroom.png">
</p>

<p>OpenVidu is composed by the three modules displayed on the image above in its insecure version.</p>
<ul>
<li><strong>openvidu-browser</strong>: JavaScript library for the browser. It allows you to manage your video-calls straight away from your clients</li>
<li><strong>openvidu-server</strong>: Java application that controls Kurento Media Server</li>
<li><strong>Kurento Media Server</strong>: server that handles low level operations of media flows transmission</li>
</ul>
<h2 id="running-this-demo">Running this demo</h2>
<p>1) Clone the repo:</p>
<pre><code class="bash">git clone https://github.com/OpenVidu/openvidu-tutorials.git
</code></pre>

<p>2) You will need an http web server installed in your development computer to execute the sample application. If you have <em>node.js</em> installed, you can use <a href="https://github.com/indexzero/http-server" target="_blank">http-server</a> to serve application files. It can be installed with:</p>
<pre><code class="bash">npm install -g http-server
</code></pre>

<p>3) Run the tutorial:</p>
<pre><code class="bash">http-server openvidu-tutorials/openvidu-getaroom/web
</code></pre>

<p>4) <em>openvidu-server</em> and <em>Kurento Media Server</em> must be up and running in your development machine. The easiest way is running this Docker container which wraps both of them (you will need <a href="https://store.docker.com/search?type=edition&amp;offering=community" target="_blank">Docker CE</a>):</p>
<pre><code class="bash">docker run -p 4443:4443 --rm -e openvidu.secret=MY_SECRET openvidu/openvidu-server-kms:2.11.0
</code></pre>

<p>5) Go to <a href="http://localhost:8080"><code>localhost:8080</code></a>{:target="<em>blank"} to test the app once the server is running. The first time you use the docker container, an alert message will suggest you accept the self-signed certificate of _openvidu-server</em> when you first try to join a video-call.</p>
<p><br></p>
<blockquote>
<p>If you are using <strong>Windows</strong>, read this <strong><a href="../../troubleshooting/#3-i-am-using-windows-to-run-the-tutorials-develop-my-app-anything-i-should-know" target="_blank">FAQ</a></strong> to properly run the tutorial</p>
<p>To learn <strong>some tips</strong> to develop with OpenVidu, check this <strong><a href="../../troubleshooting#2-any-tips-to-make-easier-the-development-of-my-app-with-openvidu" target="_blank">FAQ</a></strong></p>
</blockquote>
<div class="row no-margin row-gallery">
    <div class="col-md-6">
        <a data-fancybox="gallery" href="/img/demos/getaroom-index.png">
            <img class="img-responsive" src="/img/demos/getaroom-index.png">
        </a>
    </div>
    <div class="col-md-6">
        <a data-fancybox="gallery" href="/img/demos/getaroom-session-1.png">
            <img class="img-responsive" src="/img/demos/getaroom-session-1.png">
        </a>
    </div>
</div>

<div class="row no-margin row-gallery">
    <div class="col-md-6">
        <a data-fancybox="gallery" href="/img/demos/getaroom-session-6.png">
            <img class="img-responsive" src="/img/demos/getaroom-session-6.png">
        </a>
    </div>
    <div class="col-md-6">
        <a data-fancybox="gallery" href="/img/demos/getaroom-session-6-mob.png">
            <img id="img-mob" class="img-responsive" src="/img/demos/getaroom-session-6-mob.png">
        </a>
    </div>
</div>

<h2 id="understanding-the-code">Understanding the code</h2>
<p>This application is very simple. It has only 4 files:</p>
<ul>
<li><code>openvidu-browser-VERSION.js</code>: openvidu-browser library. You don't have to manipulate this file. </li>
<li><code>app.js</code>: sample application main JavaScript file, which makes use of <em>openvidu-browser-VERSION.js</em>. You can manipulate this file to suit your needs.</li>
<li>
<p><code>index.html</code>: HTML code for the welcome page to join a new room and for the room itself. You can manipulate this file to suit your needs. It has two links to both JavaScript files: </p>
<pre><code>&lt;script src="openvidu-browser-VERSION.js.js"&gt;&lt;/script&gt;
&lt;script src="app.js"&gt;&lt;/script&gt;
</code></pre>
</li>
<li>
<p><code>style.css</code>: some CSS classes to style <em>index.html</em>. You can manipulate this file to suit your needs. <em>index.html</em> uses also Bootstrap as its main style framework.</p>
</li>
</ul>
<p>Down below we will describe the most important code snippets in <code>app.js</code>:</p>
<hr />
<h4 id="declaration-of-variables">Declaration of variables</h4>
<p>We will need some variables accesible from differents methods</p>
<pre><code class="javascript">var OV;                     // OpenVidu object to initialize a session
var session;                // Session object where the user will connect
var publisher;              // Publisher object which the user will publish
var sessionId;              // Unique identifier of the session
var audioEnabled = true;    // True if the audio track of publisher is active
var videoEnabled = true;    // True if the video track of publisher is active
var numOfVideos = 0;        // Keeps track of the number of videos that are being shown
</code></pre>

<hr />
<h4 id="window-callbacks">Window callbacks</h4>
<p>On <em>load</em> we will check if the user is connecting to an existing room or to a new one depending on the browser's location, on <em>beforeunload</em> we will disconnect the user from the room</p>
<pre><code class="javascript">// Check if the URL already has a room
window.addEventListener('load', function () {
    sessionId = window.location.hash.slice(1); // For 'https://myurl/#roomId', sessionId would be 'roomId'
    if (sessionId) {
        // The URL has a session id. Join the room right away
        console.log(&quot;Joining to room &quot; + sessionId);
        showSessionHideJoin();
        joinRoom();
    } else {
        // The URL has not a session id. Show welcome page
        showJoinHideSession();
    }
});

// Disconnect participant on browser's window closed
window.addEventListener('beforeunload', function () {
    if (session) session.disconnect();
});
</code></pre>

<hr />
<h4 id="joinroom-method"><em>joinRoom</em> method</h4>
<p>Here we initialize our session and set the events we need for the desired behaviuor. Then we connect to it and finally publish our own webcam to the session.</p>
<pre><code class="javascript">function joinRoom() {

    if (!sessionId) {
        // If the user is joining to a new room
        sessionId = randomString();
    }

    // --- 1) Get an OpenVidu object ---

    OV = new OpenVidu();

    // --- 2) Init a session ---

    session = OV.initSession();


    // --- 3) Specify the actions when events take place in the session ---

    // On every new Stream received...
    session.on('streamCreated', function (event) {
        // Subscribe to the Stream to receive it. HTML video will be appended to element with 'subscriber' id
        var subscriber = session.subscribe(event.stream, 'videos');
        // When the new video is added to DOM, update the page layout to fit one more participant
        subscriber.on('videoElementCreated', function (event) {
            numOfVideos++;
            updateLayout();
        });
    });

    // On every new Stream destroyed...
    session.on('streamDestroyed', function (event) {
        // Update the page layout
        numOfVideos--;
        updateLayout();
    });


    // --- 4) Connect to the session with a valid user token ---

    // 'getToken' method is simulating what your server-side should do.
    // 'token' parameter should be retrieved and returned by your own backend
    getToken(sessionId).then(token =&gt; {

        // Connect with the token
        session.connect(token)
            .then(() =&gt; {

                // --- 5) Set page layout for active call ---

                // Update the URL shown in the browser's navigation bar to show the session id
                var path = (location.pathname.slice(-1) == &quot;/&quot; ? location.pathname : location.pathname + &quot;/&quot;);
                window.history.pushState(&quot;&quot;, &quot;&quot;, path + '#' + sessionId);

                // Auxiliary methods to show the session's view
                showSessionHideJoin();
                initializeSessionView();

                // --- 6) Get your own camera stream with the desired properties ---

                publisher = OV.initPublisher('publisher', {
                    audioSource: undefined, // The source of audio. If undefined default audio input
                    videoSource: undefined, // The source of video. If undefined default video input
                    publishAudio: true,     // Whether to start publishing with your audio unmuted or not
                    publishVideo: true,     // Whether to start publishing with your video enabled or not
                    resolution: '640x480',  // The resolution of your video
                    frameRate: 30,          // The frame rate of your video
                    insertMode: 'APPEND',   // How the video is inserted in target element 'video-container'
                    mirror: true            // Whether to mirror your local video or not
                });

                // --- 7) Specify the actions when events take place in our publisher ---

                // When our HTML video has been added to DOM...
                publisher.on('videoElementCreated', function (event) {
                    // When your own video is added to DOM, update the page layout to fit it
                    numOfVideos++;
                    updateLayout();
                    $(event.element).prop('muted', true); // Mute local video to avoid feedback
                });

                // --- 8) Publish your stream ---

                session.publish(publisher);
            })
            .catch(error =&gt; {
                console.log('There was an error connecting to the session:', error.code, error.message);
            });
    });
}
</code></pre>

<hr />
<h4 id="leaveroom-method"><em>leaveRoom</em> method</h4>
<pre><code class="javascript">function leaveRoom() {

    // --- 9) Leave the session by calling 'disconnect' method over the Session object ---

    session.disconnect();

    // Back to welcome page
    window.location.href = window.location.origin + window.location.pathname;
}
</code></pre>

<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>
<script>
  $().fancybox({
    selector : '[data-fancybox="gallery"]',
    infobar : true,
    arrows : false,
    loop: true,
    protect: true,
    transitionEffect: 'slide',
    buttons : [
        'close'
    ],
    clickOutside : 'close',
    clickSlide   : 'close',
  });
</script></p> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../openvidu-call/" class="btn btn-xs btn-primary float-right" title="openvidu-call">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../tutorials/openvidu-mvc-node/" class="btn btn-xs btn-primary" title="openvidu-mvc-node"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/demos/openvidu-getaroom.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>