---
layout: docs-layout
title: OpenVidu Documentation - Deploying OpenVidu Server and your app on AWS
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('Deploying OpenVidu Server and your app on AWS')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('Deploying OpenVidu Server and your app on AWS')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Home</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../home/">Home</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../home/openvidu-basics/">OpenVidu Basics</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../home/openvidu-artifacts/">OpenVidu Artifacts</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/">Intro</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>API</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../api/openvidu-browser/">openvidu-browser</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../api/openvidu-java-client/">openvidu-java-client</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../api/openvidu-node-client/">openvidu-node-client</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../api/REST-API/">REST API</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../deploying-demos-aws/">Tutorial - Deploying OpenVidu Demos on AWS</a> 
</li>

   

<li class="toctree-l1 current">
    <a class="current" href="./">Deploying OpenVidu Server and your app on AWS</a>  
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../custom-certificate/">Using your own certificate</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">Deploying OpenVidu Server and your app on AWS</h2>

<hr>

<h2 id="deploying-openvidu-server-on-aws-with-cloud-formation">Deploying OpenVidu Server on AWS with Cloud Formation</h2>
<p>The deployment of OpenVidu can be a piece of cake if you have an AWS account. Just follow these steps:</p>
<div style="
    display: table;
    border: 1px solid #0088aa;
    border-radius: 5px;
    width: 100%;"><div style="display: table-cell">
    <i class="icon ion-android-alert" style="
    font-size: 60px;
    color: #0088aa;
    display: inline-block;
    padding-left: 30%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">This CloudFormation Stack will send us some data for the sake of statistics gathering. This ONLY includes the <strong>AWS geographical area</strong>, the <strong>version of OpenVidu</strong> that is being used and the <strong>current date</strong>.</div></div>

<h4 id="1-access-to-the-console-of-aws-cloud-formation">1. Access to the console of AWS Cloud Formation</h4>
<p><p><a href="https://console.aws.amazon.com/cloudformation" class="btn btn-xs btn-primary" title="Developing OpenVidu" target="_blank">Go to CloudFormation<span class="icon icon-circle-arrow-right"></span></a></p></p>
<h4 id="2-click-on-create-stack">2. Click on <em>Create Stack</em></h4>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_newstack.png">
  </p></p>
<h4 id="3-option-specify-an-amazon-s3-template-url-with-the-following-url">3. Option <em>Specify an Amazon S3 template URL</em> with the following URL</h4>
<p><code id="code-2">https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/CF-OpenVidu-latest.json</code>
  <button id="btn-copy-2" class="btn-xs btn-primary btn-copy-code hidden-xs" data-toggle="tooltip" data-placement="button"
                                title="Copy to Clipboard">Copy</button></p>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_url.png">
  </p></p>
<h4 id="4-complete-the-configuration-fields">4. Complete the configuration fields</h4>
<p>We provide 3 different scenarios: you can use the default <strong>SELF-SIGNED CERTIFICATE</strong> stored in the application (users will need to accept the security alert) or if you have a custom domain, either allow <strong>LET'S ENCRYPT</strong> to automatically generate a valid and free certificate for your domain or use your own <strong>CUSTOM CERTIFICATE</strong> if you already have one.</p>
<div style="text-align: center" class="table-responsive">
  <table class="deploy-fields-table color-table">
    <tr>
      <th></th>
      <th>Self-Signed certificate</th>
      <th><em>Let's Encrypt</em> certificate</th>
      <th>Custom certificate</th>
    </tr>
    <tr>
      <td class="first-col">Stack name</td>
      <td><em>Your choice</em></td>
      <td><em>Your choice</em></td>
      <td><em>Your choice</em></td>
    </tr>
    <tr>
      <td class="first-col">Type of SSL Certificate</td>
      <td>selfsigned</td>
      <td>letsencrypt</td>
      <td>owncert</td>
    </tr>
    <tr>
      <td class="first-col">Email</td>
      <td></td>
      <td><em>Your choice</em></td>
      <td><em></em></td>
    </tr>
    <tr>
      <td class="first-col">Fully qualified domain name</td>
      <td></td>
      <td><em>Your custom domain</em></br><span class="field-comment">(for example: <em>openvidu.io</em>)</span></td>
      <td><em>Your custom domain</em></br><span class="field-comment">(for example: <em>openvidu.io</em>)</span></td>
    </tr>
    <tr>
      <td class="first-col">Elastic IP</td>
      <td></td>
      <td><em>One AWS Elastic IP you generated</em></br><span class="field-comment">(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating" target="_blank">AWS Docs</a> to generate a new one)</span></td>
      <td><em>One AWS Elastic IP you generated</em></br><span class="field-comment">(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating" target="_blank">AWS Docs</a> to generate a new one)</span></td>
    </tr>
    <tr>
      <td class="first-col">CRT File</td>
      <td></td>
      <td></td>
      <td><em>Content of your <strong>.crt</strong> file</em><br><span class="field-comment">-----BEGIN CERTIFICATE-----<br>fooFOOfooFOOfooFOOfoo...<br>-----END CERTIFICATE-----</span></td>
    </tr>
    <tr>
      <td class="first-col">KEY File</td>
      <td></td>
      <td></td>
      <td><em>Content of your <strong>.key</strong> file</em><br><span class="field-comment">-----BEGIN RSA PRIVATE KEY-----<br>fooFOOfooFOOfooFOOfoo...<br>-----END RSA PRIVATE KEY-----</span></td>
    </tr>
    <tr>
      <td class="first-col">OpenVidu Secret</td>
      <td><em>Your choice</em></td>
      <td><em>Your choice</em></td>
      <td><em>Your choice</em></td>
    </tr>
    <tr>
      <td class="first-col">Instance Type</td>
      <td><em>Your choice</em></br><span class="field-comment">(at least <code>t2.medium</code> recommended)</span></td>
      <td><em>Your choice</em></br><span class="field-comment">(at least <code>t2.medium</code> recommended)</span></td>
      <td><em>Your choice</em></br><span class="field-comment">(at least <code>t2.medium</code> recommended)</span></td>
    </tr>
    <tr>
      <td class="first-col">KeyName</td>
      <td><em>Your choice</em></br><span class="field-comment">(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank">AWS Docs</a> to create a new one)</span></td>
      <td><em>Your choice</em></br><span class="field-comment">(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank">AWS Docs</a> to create a new one)</span></td>
      <td><em>Your choice</em></br><span class="field-comment">(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank">AWS Docs</a> to create a new one)</span></td>
    </tr>
  </table>
</div>

<h4 id="5-create-your-stack">5. Create your Stack</h4>
<p>No extra options are necessary. Click on  <strong><em>Next</em></strong> ➞ <strong><em>Next</em></strong> ➞ <strong><em>Create</em></strong></p>
<p><strong><em>CREATE_IN_PROGRESS</em></strong> status will show up. You will now have to wait for a few minutes.</p>
<h4 id="6-access-and-test-your-openvidu-server-through-your-new-ip">6. Access and test your OpenVidu Server through your new IP</h4>
<p>Go to <strong><em>Outputs</em></strong> tab to get your brand new IP and click on it (or if you have deployed under your own custom domain, then you should access through it).</p>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_output.png">
  </p></p>
<p>You will connect to your OpenVidu Dashboard, where you can test the video transmission. You can now add your own application to your instance. To learn how check the <a href="#adding-your-own-app-to-cloudformation-openvidu-server">next section</a>.</p>
<blockquote>
<p><strong>IMPORTANT</strong>: Even though the Status of your new Stack shows "CREATE_COMPLETE", 
it will take a bit longer until you can access your OpenVidu Server. Be patient.</p>
</blockquote>
<h2 id="adding-your-own-app-to-cloudformation-openvidu-server">Adding your own app to CloudFormation OpenVidu Server</h2>
<p>Once you have deployed your CloudFormation OpenVidu Server and checked that it is up and running, you can easily add your own application to the instance. Follow these steps:</p>
<h4 id="1-upload-your-app-to-your-ec2-instance">1. Upload your app to your EC2 instance</h4>
<p>In Linux/Mac you can use <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html#AccessingInstancesLinuxSCP">scp</a> command. In Windows (or If you prefer a more friendly GUI) you can use <a href="https://beamtic.com/connect-to-aws-ec2-with-ftp">FileZilla</a>. Furthermore, if your app is stored in a GitHub repo, you can directly clone it once you connect to your instance.</p>
<p>Remember that the key will be the same you indicated when configuring the <a href="#4-complete-the-configuration-fields">CloudFormation fields</a>. </p>
<h4 id="2-connect-to-your-ec2-instance-through-ssh">2. Connect to your EC2 instance through SSH</h4>
<p>Remember that the key will be the same you indicated when configuring the <a href="#4-complete-the-configuration-fields">CloudFormation fields</a>. In case of doubt, check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstancesLinux.html">AWS docs</a>.</p>
<h4 id="3-configure-your-app">3. Configure your app</h4>
<p>Depending on the framework of your app:</p>
<h5 id="plain-htmlcssjs">Plain HTML/CSS/JS</h5>
<ul>
<li>
<p>Add your web files into <code>/var/www/html/</code>. You should have instant access to it through <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN/</code></p>
<blockquote>
<p>If you want to test the deployment of a plain HTML/CSS/JS app, you can use <strong><a href="https://github.com/OpenVidu/openvidu-tutorials/tree/master/openvidu-insecure-js">openvidu-insecure-js</a></strong></p>
</blockquote>
</li>
</ul>
<h5 id="java">Java</h5>
<ul>
<li>
<p>Copy your JAR or WAR into <code>/var/www/html/</code></p>
</li>
<li>
<p>Write a script to launch your app with all the parameters it needs, and store it under <code>/var/www/html/</code>. For example, a file <code>/var/www/html/YOUR_LAUNCHER.sh</code> containing:</p>
<pre><code>cd /var/www/html
java -jar -Dserver.port=4040 myapp.jar
</code></pre>
<blockquote>
<p><strong>IMPORTANT</strong>: It is crucial to navigate to <strong>/var/www/html</strong> before the launching command. Otherwise, the system will surely have some problems for finding your files</p>
</blockquote>
</li>
<li>
<p>Configure Nginx: add a new <strong>location</strong> directive to the file <code>/etc/nginx/sites-enabled/default</code>, inside the <code>server { }</code> group:</p>
<pre><code>  location / {
    rewrite /(.*) /$1 break;
    proxy_pass https://localhost:PORT;
  }
</code></pre>
<p>For example</p>
<pre><code>  location / {
    rewrite /(.*) /$1 break;
    proxy_pass https://localhost:4040;
  }
</code></pre>
</li>
<li>
<p>Configure Supervisor: add the script you wrote in the second step to the file <code>/etc/supervisor/conf.d/openvidu.conf</code> like this:</p>
<pre><code>  [program:YOUR_APP]
  command=/bin/bash /var/www/html/YOUR_LAUNCHER.sh YOUR_APP_PARAM_1 YOUR_APP_PARAM_2 ...
  redirect_stderr=true
</code></pre>
<blockquote>
<p>To connect your Java app to OpenVidu Server in order to get your sessionIds and tokens (check <a href="../../home/#securization">Securization</a> section), you will need to use the URL <code>https://localhost:8443</code>. <em>localhost</em> because both your app and OpenVidu Server run in the same machine. <em>8443</em> because there's where OpenVidu Server listens for petitions. For example, our tutorial <em>openvidu-js-java</em> sets this parameter as an environment variable <a href="https://github.com/OpenVidu/openvidu-tutorials/blob/ba5121c622ea59aa9708021f3635f922acb3ff73/openvidu-js-java/src/main/resources/application.properties#L8">right here</a>.</p>
</blockquote>
</li>
<li>
<p>Restart Nginx: <code>systemctl restart nginx</code></p>
</li>
<li>
<p>Restart Supervisor: <code>systemctl restart supervisor</code></p>
</li>
<li>
<p>You will have access to your app through <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN/</code></p>
</li>
<li>
<p>Troubleshooting: If your app is not working as expected, there are a few files you should check for debugging: <code>/var/log/nginx/</code> (info about the proxy), <code>/var/log/supervisor/</code> (output of your app). You can also try to connect to your app directly through the port like <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN:YOUR_APP_PORT</code></p>
<blockquote>
<p>If you want to test the deployment of a Java app, you can use <strong>openvidu-js-java</strong> or <strong>openvidu-mvc-java</strong> (<a href="https://github.com/OpenVidu/openvidu-tutorials/releases">release here</a>)</p>
</blockquote>
</li>
</ul>
<h5 id="node">Node</h5>
<ul>
<li>
<p>Add your web files into <code>/var/www/html/</code></p>
</li>
<li>
<p>Write a script to launch your app with all the parameters it needs, and store it under <code>/var/www/html/</code>. For example, a file <code>/var/www/html/YOUR_LAUNCHER.sh</code> containing:</p>
<pre><code>cd /var/www/html
node myserver.js 4040
</code></pre>
<blockquote>
<p><strong>IMPORTANT</strong>: It is crucial to navigate to <strong>/var/www/html</strong> before the launching command. Otherwise, the system will surely have some problems for finding your files</p>
</blockquote>
</li>
<li>
<p>Configure Nginx: add a new <strong>location</strong> directive to the file <code>/etc/nginx/sites-enabled/default</code>, inside the <code>server { }</code> group::</p>
<pre><code>  location / {
    rewrite /(.*) /$1 break;
    proxy_pass https://localhost:PORT;
  }
</code></pre>
<p>For example</p>
<pre><code>  location / {
    rewrite /(.*) /$1 break;
    proxy_pass https://localhost:4040;
  }
</code></pre>
</li>
<li>
<p>Restart Nginx: <code>systemctl restart nginx</code></p>
</li>
<li>
<p>Configure Supervisor: add the script you wrote in the second step to <code>/etc/supervisor/conf.d/openvidu.conf</code> like this:</p>
<pre><code>  [program:YOUR_APP]
  command=/bin/bash /var/www/html/YOUR_LAUNCHER.sh YOUR_APP_PARAM_1 YOUR_APP_PARAM_2 ...
  redirect_stderr=true
</code></pre>
<blockquote>
<p>To connect your Node app to OpenVidu Server in order to get your sessionIds and tokens (check <a href="../../home/#securization">Securization</a> section), you will need to use the URL <code>https://localhost:8443</code>. <em>localhost</em> because both your app and OpenVidu Server run in the same machine. <em>8443</em> because there's where OpenVidu Server listens for petitions. For example, our tutorial <em>openvidu-js-node</em> expects this parameter as the first argument on launch command <a href="https://github.com/OpenVidu/openvidu-tutorials/blob/ba5121c622ea59aa9708021f3635f922acb3ff73/openvidu-js-node/server.js#L64">right here</a>.</p>
</blockquote>
</li>
<li>
<p>Restart Supervisor: <code>systemctl restart supervisor</code></p>
</li>
<li>
<p>You will have access to your app through <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN/</code></p>
</li>
<li>
<p>Troubleshooting: If your app is not working as expected, there are a few files you should check for debugging: <code>/var/log/nginx/</code> (info about the proxy), <code>/var/log/supervisor/</code> (output of your app). You can also try to connect to your app directly through the port like <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN:YOUR_APP_PORT</code></p>
<blockquote>
<p>If you want to test the deployment of a Node app, you can use <strong><a href="https://github.com/OpenVidu/openvidu-tutorials/tree/master/openvidu-js-node">openvidu-js-node</a></strong></p>
</blockquote>
</li>
</ul>
<h5 id="php-ruby-python-net">PHP, Ruby, Python, .NET...</h5>
<p>We are not going to spell out in detail what is to be done with the rest of backend technologies, but you can get the idea from the Java and Node steps above. It is always the same process: take your app to your instance, place it under <code>/var/www/html/</code>, configure Nginx and Supervisor (this last with the necessary launching script depending on your technology) and relaunch both services.</p>
<p>Voilà! It is really this simple.</p>
<h4 id="ps-multiple-apps-in-the-same-instance">PS: Multiple apps in the same instance</h4>
<p>To launch multiple apps in the same instance, just store each one of them inside its own folder under <code>/var/www/html/</code>. For example:</p>
<ul>
<li><code>/var/www/html/YOUR_APP_1</code> : will be available at <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN/YOUR_APP_1/</code></li>
<li><code>/var/www/html/YOUR_APP_2</code> : will be available at <code>https://AMAZON_URL_OR_YOUR_CUSTOM_DOMAIN/YOUR_APP_2/</code></li>
</ul>
<p>The other steps explained above also need some adjustments related to paths:</p>
<ul>
<li>
<p>Configure Nginx: now it would be...</p>
<pre><code>location /YOUR_APP_1 {
  rewrite /YOUR_APP_1(.*) /$1 break;
  proxy_pass https://localhost:PORT1;
}

location /YOUR_APP_2 {
  rewrite /YOUR_APP_2(.*) /$1 break;
  proxy_pass https://localhost:PORT2;
}
</code></pre>
</li>
<li>
<p>Configure Supervisor: now...</p>
<pre><code>  [program:YOUR_APP_1]
  command=/bin/bash /var/www/html/YOUR_APP_1/YOUR_LAUNCHER_1.sh YOUR_APP1_PARAM_1 YOUR_APP1_PARAM_2 ...
  redirect_stderr=true

  [program:YOUR_APP_2]
  command=/bin/bash /var/www/html/YOUR_APP_2/YOUR_LAUNCHER_2.sh YOUR_APP2_PARAM_1 YOUR_APP2_PARAM_2 ...
  redirect_stderr=true
</code></pre>
</li>
</ul>
<hr />
<h2 id="deploying-on-aws-with-native-services-and-executables">Deploying on AWS with native services and executables</h2>
<p>If you prefer having KMS installed in your EC2 machine and your own version of openvidu-server, follow these few steps. In this case, KMS and openvidu-server run in the same machine. <em>Ubuntu xenial 14.04</em> and <em>Ubuntu trusty 16.04</em> are supported.</p>
<h4 id="1-install-kms-in-first-command-xenial-for-1604-trusty-for-1404">1. Install KMS (in first command: <strong><em>xenial</em></strong> for 16.04, <strong><em>trusty</em></strong> for 14.04)</h4>
<pre><code class="console">echo &quot;deb http://ubuntu.kurento.org xenial kms6&quot; | sudo tee /etc/apt/sources.list.d/kurento.list
wget -O - http://ubuntu.kurento.org/kurento.gpg.key | sudo apt-key add -
sudo apt-get update
sudo apt-get -y install kurento-media-server-6.0
</code></pre>

<h4 id="2-install-coturn">2. Install COTURN</h4>
<pre><code class="console">sudo apt-get -y install coturn
</code></pre>

<blockquote>
<p>This is a great implementation of a STUN/TURN server, necessary for connecting your users under some complicated circumstances. You can check its documentation <a href="https://github.com/coturn/coturn">here</a>.
If there's any problem with the installation on <strong>Ubuntu trusty 14.04</strong>:</p>
<p><code>wget -c http://ftp.us.debian.org/debian/pool/main/c/coturn/coturn_4.2.1.2-1_amd64.deb</code></br>
<code>sudo dpkg -i coturn_4.2.1.2-1_amd64.deb</code></br>
<code>sudo apt-get -f -y install</code></br>
<code>sudo dpkg -i coturn_4.2.1.2-1_amd64.deb</code></br></p>
</blockquote>
<h4 id="3-file-etckurentomoduleskurentowebrtcendpointconfini">3. File <code>/etc/kurento/modules/kurento/WebRtcEndpoint.conf.ini</code></h4>
<pre><code class="console">stunServerAddress=YOUR_MACHINE_PUBLIC_IP
stunServerPort=3478
turnURL=USER:PASS@YOUR_MACHINE_PUBLIC_IP:3478
</code></pre>

<h4 id="4-file-etcturnserverconf">4. File <code>/etc/turnserver.conf</code></h4>
<pre><code class="console">external-ip=YOUR_MACHINE_PUBLIC_IP
fingerprint
user=USER:PASS
lt-cred-mech
realm=kurento.org
log-file=/var/log/turnserver/turnserver.log
simple-log
</code></pre>

<h4 id="5-file-etcdefaultcoturn">5. File <code>/etc/default/coturn</code></h4>
<pre><code>TURNSERVER_ENABLED=1
</code></pre>

<h4 id="6-init-services">6. Init services</h4>
<pre><code class="bash">sudo service coturn restart
sudo service kurento-media-server-6.0 restart
</code></pre>

<h4 id="7a-init-openvidu-server-docker-container">7A. Init openvidu-server Docker container...</h4>
<pre><code class="console">sudo docker run -d -p 8443:8443 -e openvidu.secret=YOUR_SECRET --net=&quot;host&quot; openvidu/openvidu-server
</code></pre>

<blockquote>
<p>To quickly install the latest official stable version of <strong>Docker CE</strong>:</p>
<p><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code></br>
<code>sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"</code></br>
<code>sudo apt-get update</code></br>
<code>sudo apt-get -y install docker-ce</code></br>
</p>
</blockquote>
<p>Go to <a href="../../deployment/custom-certificate#for-the-docker-container-of-openvidu-server">Using your own certificate</a> to add your certificate to the container instead of using the self-signed default one.</p>
<h4 id="7b-or-init-your-own-openvidu-server-executable">7B. ...or init your own openvidu-server executable</h4>
<pre><code class="console">java -jar -Dopenvidu.secret=YOUR_SECRET openvidu-server.jar &amp;
</code></pre>

<p>Go to <a href="../../deployment/custom-certificate#for-a-jar-binary-of-openvidu-server">Using your own certificate</a> to add your certificate to the JAR instead of using the self-signed default one.</p>
<h4 id="8-finally-check-your-server">8. Finally check your server</h4>
<p>You can connect to OpenVidu dashboard through <code>https://YOUR_MACHINE_PUBLIC_IP:8443</code> (authorization is <code>OPENVIDUAPP:YOUR_SECRET</code>). Make sure you allow TCP and UDP inbound connections to your machine!</p>
<p>Now you can deploy your application in the same machine (if the app is not pure frontend HTML/CSS/JS and has a <a href="../../home/#securization">secure backend</a>, connect it to OpenVidu Server through <em>https://localhost:8443</em>) or in a different one (connect to OpenVidu server through <em>https://YOUR_MACHINE_PUBLIC_IP:8443</em>).</p>
<script src="/js/copy-btn.js"></script> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../custom-certificate/" class="btn btn-xs btn-primary float-right" title="Using your own certificate">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../deploying-demos-aws/" class="btn btn-xs btn-primary" title="Tutorial - Deploying OpenVidu Demos on AWS"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/deployment/deploying-aws.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>