---
layout: docs-layout
title: OpenVidu Documentation - Deploying on AWS
active: documentation
---

<script src="/js/jquery-3.2.1.slim.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('Deploying on AWS')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('Deploying on AWS')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Home</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="..">Home</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../tutorials/">Intro</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>API</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../api/openvidu-browser/">openvidu-browser</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../api/openvidu-java-client/">openvidu-java-client</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../api/openvidu-node-client/">openvidu-node-client</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 current">
    <a class="current" href="./">Deploying on AWS</a>  
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">OpenVidu Deployment</h2>

<hr>

<h2 id="deploying-on-aws-with-cloud-formation">Deploying on AWS with Cloud Formation</h2>
<p>The deployment of OpenVidu can be a piece of cake if you have an AWS account. Just follow these steps:</p>
<h3 id="deploying-an-openvidu-demo">Deploying an OpenVidu demo</h3>
<h4 id="1-access-to-the-console-of-cloud-formation-with-this-url">1. Access to the console of Cloud Formation with this URL</h4>
<p><a href="https://eu-west-1.console.aws.amazon.com/cloudformation">https://eu-west-1.console.aws.amazon.com/cloudformation</a></p>
<h4 id="2-click-on-create-stack">2. Click on <em>Create Stack</em></h4>
<p><p align="center">
    <img class="img-responsive" src="https://docs.google.com/uc?id=0B61cQ4sbhmWSb0ttOUNzMkp0ckU">
  </p></p>
<h4 id="3-option-specify-an-amazon-s3-template-url-with-the-following-url">3. Option <em>Specify an Amazon S3 template URL</em> with the following URL</h4>
<p><code>https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/CF-coturn-kms-openvidu.yaml</code></p>
<p><p align="center">
    <img class="img-responsive" src="https://docs.google.com/uc?id=0B61cQ4sbhmWSZE1pVHYxbU5Lb0k">
  </p></p>
<h4 id="4-complete-the-fields">4. Complete the fields</h4>
<ul>
<li><strong>Stack name</strong>: <code>OpenVidu</code></li>
<li><strong>InstanceType</strong>: <code>t2.medium</code></li>
<li><strong>KeyName</strong>: <em>whatever key you want</em></li>
</ul>
<h4 id="5-create-your-stack">5. Create your Stack</h4>
<p>No extra options are necessary. Click on  <strong><em>Next</em></strong> ➞ <strong><em>Next</em></strong> ➞ <strong><em>Create</em></strong></p>
<p><strong><em>CREATE_IN_PROGRESS</em></strong> status will show up.</p>
<h4 id="6-access-the-demo-through-your-new-ip">6. Access the demo through your new IP</h4>
<p>Wait until status shows <strong><em>CREATE_COMPLETE</em></strong></p>
<p>Go to <strong><em>Outputs</em></strong> tab to get your brand new IP and click on it. Accept the certificate and there you have your deployed OpenVidu demo!</p>
<p><p align="center">
    <img class="img-responsive" src="https://docs.google.com/uc?id=0B61cQ4sbhmWSZDNpdWpTMkw3Mlk">
  </p></p>
<hr />
<h2 id="deploying-on-aws-with-native-services-and-executables">Deploying on AWS with native services and executables</h2>
<p>If you prefer having KMS installed in your EC2 machine and your own version of openvidu-server, follow these few steps. In this case, KMS and openvidu-server run in the same machine.</p>
<h4 id="1-install-kms-in-first-command-xenial-for-1604-trusty-for-1404">1. Install KMS (in first command: <strong><em>xenial</em></strong> for 16.04, <strong><em>trusty</em></strong> for 14.04)</h4>
<pre><code class="bash">echo &quot;deb http://ubuntu.kurento.org xenial kms6&quot; | sudo tee /etc/apt/sources.list.d/kurento.list
wget -O - http://ubuntu.kurento.org/kurento.gpg.key | sudo apt-key add -
sudo apt-get update
sudo apt-get install kurento-media-server-6.0
</code></pre>

<h4 id="2-install-coturn">2. Install COTURN</h4>
<pre><code class="bash">sudo apt-get install coturn
</code></pre>

<h4 id="3-file-etckurentomoduleskurentowebrtcendpointconfini">3. File <code>/etc/kurento/modules/kurento/WebRtcEndpoint.conf.ini</code></h4>
<pre><code>stunServerAddress=STUN_IP
stunServerPort=STUN_PORT
turnURL=USER:PASS@YOUR_MACHINES'S_PUBLIC_IP:3478
</code></pre>

<h4 id="4-file-etcturnserverconf">4. File <code>/etc/turnserver.conf</code></h4>
<pre><code>external-ip=YOUR_MACHINES'S_PUBLIC_IP
fingerprint
user=USER:PASS
lt-cred-mech
realm=kurento.org
log-file=/var/log/turnserver/turnserver.log
simple-log
</code></pre>

<h4 id="5-file-etcdefaultcoturn">5. File <code>/etc/default/coturn</code></h4>
<pre><code>TURNSERVER_ENABLED=1
</code></pre>

<h4 id="6-init-services">6. Init services</h4>
<pre><code class="bash">sudo service coturn restart
sudo service kurento-media-server-6.0 restart
</code></pre>

<h4 id="7a-init-openvidu-server-docker-container-securization-enabled">7A. Init openvidu-server Docker container (securization enabled)...</h4>
<pre><code class="html">sudo docker run -d -p 8443:8443 -e openvidu.security=true -e openvidu.secret=YOUR_SECRET openvidu/openvidu-server
</code></pre>

<h4 id="7b-or-init-your-own-openvidu-server-executable-securization-enabled">7B. ...or init your own openvidu-server executable (securization enabled)</h4>
<pre><code class="bash">java -jar -Dopenvidu.security=true -Dopenvidu.secret=YOUR_SECRET openvidu-server.jar
</code></pre> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../developing/" class="btn btn-xs btn-primary float-right" title="Developing OpenVidu">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../api/openvidu-node-client/" class="btn btn-xs btn-primary" title="openvidu-node-client"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/deployment/index.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>