---
layout: docs-layout
title: OpenVidu Documentation - Deploying on AWS
active: documentation
---

<script src="/js/jquery-3.2.1.slim.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('Deploying on AWS')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('Deploying on AWS')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Home</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../home/">Home</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../home/openvidu-basics/">OpenVidu Basics</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../home/openvidu-artifacts/">OpenVidu Artifacts</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../tutorials/">Intro</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../tutorials/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>API</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../api/openvidu-browser/">openvidu-browser</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../api/openvidu-java-client/">openvidu-java-client</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../api/openvidu-node-client/">openvidu-node-client</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../api/REST-API/">REST API</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 current">
    <a class="current" href="./">Deploying on AWS</a>  
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">OpenVidu Deployment</h2>

<hr>

<h1 id="table-of-contents">Table of contents</h1>
<ul>
<li><a href="#deploying-on-aws-with-cloud-formation">Deploying on AWS with Cloud Formation</a><ul>
<li><a href="#deploying-openvidu-demos">Deploying OpenVidu demos</a></li>
<li><a href="#deploying-openvidu-server-and-your-own-app">Deploying OpenVidu server and your own app</a></li>
</ul>
</li>
<li><a href="#deploying-on-aws-with-native-services-and-executables">Deploying on AWS with native services and executables</a></li>
</ul>
<hr />
<h2 id="deploying-on-aws-with-cloud-formation">Deploying on AWS with Cloud Formation</h2>
<p>The deployment of OpenVidu can be a piece of cake if you have an AWS account. Just follow these steps:</p>
<h3 id="deploying-openvidu-demos">Deploying OpenVidu demos</h3>
<p>We have packed all our demos in one single template for AWS CloudFormation. You can follow these steps and see how easy it is to deploy OpenVidu in the cloud.</p>
<h4 id="1-access-to-the-console-of-aws-cloud-formation">1. Access to the console of AWS Cloud Formation</h4>
<p><p><a href="https://console.aws.amazon.com/cloudformation" class="btn btn-xs btn-primary" title="Developing OpenVidu" target="_blank">Go to CloudFormation<span class="icon icon-circle-arrow-right"></span></a></p></p>
<h4 id="2-click-on-create-stack">2. Click on <em>Create Stack</em></h4>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_newstack.png">
  </p></p>
<h4 id="3-option-specify-an-amazon-s3-template-url-with-the-following-url">3. Option <em>Specify an Amazon S3 template URL</em> with the following URL</h4>
<p><code id="code-1">https://s3-eu-west-1.amazonaws.com/aws.openvidu.io/CF-OpenVidu-Demos.json</code>
  <button id="btn-copy-1" class="btn-xs btn-primary btn-copy-code hidden-xs" data-toggle="tooltip" data-placement="button"
                                title="Copy to Clipboard">Copy</button></p>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_url.png">
  </p></p>
<h4 id="4-complete-the-configuration-fields">4. Complete the configuration fields</h4>
<p>We provide 2 different scenarios: you can use the default <strong>self-signed certificate</strong> stored in the application (users will need to accept the security alert) or if you have a custom domain, allow <strong>Let's Encrypt</strong> to automatically generate a valid and free certificate for your domain.</p>
<div class="row">
  <div class="col col-md-6">
    <h5>Self-signed certificate</h5>
      <table class="deploy-fields-table">
        <tr>
          <th>Field</th>
          <th>Value</th>
        </tr>
        <tr>
          <td>Stack name</td>
          <td><em>Your choice</em></td>
        </tr>
        <tr>
          <td>Do you want Let's Encrypt</td>
          <td><strong>false</strong></td>
        </tr>
        <tr>
          <td>Email address</td>
          <td></td>
        </tr>
        <tr>
          <td>Fully qualified domain name</td>
          <td></td>
        </tr>
        <tr>
          <td>Elastic IP</td>
          <td></td>
        </tr>
        <tr>
          <td>Instance Type</td>
          <td><em>Your choice</em></br>(at least <code>t2.medium</code> recommended)</td>
        </tr>
        <tr>
          <td>KeyName</td>
          <td><em>Your choice</em></br>(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank">AWS Docs</a> to create a new one)</td>
        </tr>
        <tr>
          <td>SSHLocation</td>
          <td><strong>0.0.0.0/0</strong></td>
        </tr>
      </table>
  </div>
  <div class="col col-md-6">
    <h5>Let's Encrypt certificate (a valid certficate free of charge!)</h5>
      <table class="deploy-fields-table">
        <tr>
          <th>Field</th>
          <th>Value</th>
        </tr>
        <tr>
          <td>Stack name</td>
          <td><em>Your choice</em></td>
        </tr>
        <tr>
          <td>Do you want Let's Encrypt</td>
          <td><strong>true</strong></td>
        </tr>
        <tr>
          <td>Email address</td>
          <td><em>Your choice</em></td>
        </tr>
        <tr>
          <td>Fully qualified domain name</td>
          <td><em>Your custom domain</em></br>(for example: <strong>openvidu.io</strong>)</td>
        </tr>
        <tr>
          <td>Elastic IP</td>
          <td><em>One AWS Elastic IP you generated</em></br>(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/elastic-ip-addresses-eip.html#using-instance-addressing-eips-allocating" target="_blank">AWS Docs</a> to generate a new one)</td>
        </tr>
        <tr>
          <td>Instance Type</td>
          <td><em>Your choice</em></br>(at least <code>t2.medium</code> recommended)</td>
        </tr>
        <tr>
          <td>KeyName</td>
          <td><em>Your choice</em></br>(check <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html" target="_blank">AWS Docs</a> to create a new one)</td>
        </tr>
        <tr>
          <td>SSHLocation</td>
          <td><strong>0.0.0.0/0</strong></td>
        </tr>
      </table>
  </div>
</div>

<h4 id="5-create-your-stack">5. Create your Stack</h4>
<p>No extra options are necessary. Click on  <strong><em>Next</em></strong> ➞ <strong><em>Next</em></strong> ➞ <strong><em>Create</em></strong></p>
<p><strong><em>CREATE_IN_PROGRESS</em></strong> status will show up. You will now have to wait for a few minutes.</p>
<p>Despite saying <strong><em>CREATE_COMPLETE</em></strong>, it can take up to 7 minutes to fully deploy the Demo Software, so please be patient.</p>
<h4 id="6-access-the-demo-through-your-new-ip">6. Access the demo through your new IP</h4>
<p>Go to <strong><em>Outputs</em></strong> tab to get your brand new IP and click on it (or if you have deployed the demos with Let's Encrypt under your own custom domain, you can directly access through it).</p>
<p><p>
    <img class="img-responsive deploy-img" src="/img/docs/deployment/CF_output.png">
  </p></p>
<blockquote>
<p><strong>IMPORTANT</strong>: Even though the Status of your new Stack saws "CREATE_COMPLETE", 
it will take a bit longer until you can access your demos. Be patient.</p>
</blockquote>
<h3 id="deploying-openvidu-server-and-your-own-app">Deploying OpenVidu server and your own app</h3>
<hr />
<h2 id="deploying-on-aws-with-native-services-and-executables">Deploying on AWS with native services and executables</h2>
<p>If you prefer having KMS installed in your EC2 machine and your own version of openvidu-server, follow these few steps. In this case, KMS and openvidu-server run in the same machine.</p>
<h4 id="1-install-kms-in-first-command-xenial-for-1604-trusty-for-1404">1. Install KMS (in first command: <strong><em>xenial</em></strong> for 16.04, <strong><em>trusty</em></strong> for 14.04)</h4>
<pre><code class="console">echo &quot;deb http://ubuntu.kurento.org xenial kms6&quot; | sudo tee /etc/apt/sources.list.d/kurento.list
wget -O - http://ubuntu.kurento.org/kurento.gpg.key | sudo apt-key add -
sudo apt-get update
sudo apt-get -y install kurento-media-server-6.0
</code></pre>

<h4 id="2-install-coturn">2. Install COTURN</h4>
<pre><code class="console">sudo apt-get -y install coturn
</code></pre>

<blockquote>
<p>This is a great implementation of a STUN/TURN server, necessary for connecting your users under some complicated circumstances. You can check its documentation <a href="https://github.com/coturn/coturn">here</a>.
If there's any problem with the installation on <strong>Ubuntu trusty 14.04</strong>:</p>
<p><code>wget -c http://ftp.us.debian.org/debian/pool/main/c/coturn/coturn_4.2.1.2-1_amd64.deb</code></br>
<code>sudo dpkg -i coturn_4.2.1.2-1_amd64.deb</code></br>
<code>sudo apt-get -f -y install</code></br>
<code>sudo dpkg -i coturn_4.2.1.2-1_amd64.deb</code></br></p>
</blockquote>
<h4 id="3-file-etckurentomoduleskurentowebrtcendpointconfini">3. File <code>/etc/kurento/modules/kurento/WebRtcEndpoint.conf.ini</code></h4>
<pre><code class="console">stunServerAddress=YOUR_MACHINE_PUBLIC_IP
stunServerPort=3478
turnURL=USER:PASS@YOUR_MACHINE_PUBLIC_IP:3478
</code></pre>

<h4 id="4-file-etcturnserverconf">4. File <code>/etc/turnserver.conf</code></h4>
<pre><code class="console">external-ip=YOUR_MACHINE_PUBLIC_IP
fingerprint
user=USER:PASS
lt-cred-mech
realm=kurento.org
log-file=/var/log/turnserver/turnserver.log
simple-log
</code></pre>

<h4 id="5-file-etcdefaultcoturn">5. File <code>/etc/default/coturn</code></h4>
<pre><code>TURNSERVER_ENABLED=1
</code></pre>

<h4 id="6-init-services">6. Init services</h4>
<pre><code class="bash">sudo service coturn restart
sudo service kurento-media-server-6.0 restart
</code></pre>

<h4 id="7a-init-openvidu-server-docker-container">7A. Init openvidu-server Docker container...</h4>
<pre><code class="console">sudo docker run -d -p 8443:8443 -e openvidu.secret=YOUR_SECRET --net=&quot;host&quot; openvidu/openvidu-server
</code></pre>

<blockquote>
<p>To quickly install the latest official stable version of <strong>Docker CE</strong>:</p>
<p><code>curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -</code></br>
<code>sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"</code></br>
<code>sudo apt-get update</code></br>
<code>sudo apt-get -y install docker-ce</code></br>
</p>
</blockquote>
<h4 id="7b-or-init-your-own-openvidu-server-executable">7B. ...or init your own openvidu-server executable</h4>
<pre><code class="console">java -jar -Dopenvidu.secret=YOUR_SECRET openvidu-server.jar
</code></pre>

<p>You can connect to OpenVidu dashboard through <code>https://YOUR_MACHINE_PUBLIC_IP:8443</code> (authorization is OPENVIDUAPP:<em>YOUR_SECRET</em>)</p>
<p>Make sure you allow TCP and UDP inbound connections to your machine!</p>
<script src="/js/copy-btn.js"></script> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../developing/" class="btn btn-xs btn-primary float-right" title="Developing OpenVidu">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../api/REST-API/" class="btn btn-xs btn-primary" title="REST API"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/deployment/index.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>