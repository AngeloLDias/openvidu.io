---
layout: docs-layout
title: OpenVidu Documentation - Publish/Unpublish a stream
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('Publish/Unpublish a stream')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('Publish/Unpublish a stream')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/">Intro</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-webcomponent/">openvidu-webcomponent</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Demos</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-call/">openvidu-call</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>How do I ... ?</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../create-session/">Create a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../join-session/">Join a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../leave-session/">Leave a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

   

<li class="toctree-l1 current">
    <a class="current" href="./">Publish/Unpublish a stream</a>  
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../manage-videos/">Manage video players</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../share-data/">Share data between users</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Advanced features</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Reference Documentation</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-browser/">openvidu-browser API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-java-client/">openvidu-java-client API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-node-client/">openvidu-node-client API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/REST-API/">REST  API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-demos-aws/">Deploying OpenVidu Demos on AWS (TUTORIAL)</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-aws/">Deploying OpenVidu Server and your app on AWS</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-ubuntu/">Deploying OpenVidu in Ubuntu</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/custom-certificate/">Using your own certificate</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h1 id="publishunpublish-a-stream">Publish/Unpublish a stream</h1>
<p>You can publish a stream after joining a session: get a <code>Publisher</code> object through OpenVidu object (<code>OpenVidu.initPublisher</code>) and publish it with <code>Session</code> object.</p>
<pre><code class="javascript">// After joining a session...

var publisher = OV.initPublisher(targetElement);
// Register all the events you want with 'publisher.on(...)'
session.publish(publisher);
</code></pre>

<ul>
<li>
<p><code>OpenVidu.initPublisher</code> method will insert into DOM a new HTML video element inside the element <code>targetElement</code>, showing your camera. This target element can be an <code>HTMLElement</code> or its <code>id</code> attribute, and you can also indicate how to insert the video according to it (see <a href="../../../api/openvidu-browser/interfaces/publisherproperties.html#insertmode">PublisherProperties.insertMode</a>). You can then publish it to the session whenever you want (perhaps you want the user to confirm that the camera is working well before publishing it).</p>
</li>
<li>
<p><code>Session.publish</code> method will make <a href="../../../api/openvidu-browser/classes/publisher.html">Publisher</a> object trigger <code>streamCreated</code> event in the local user that is publishing and will make <a href="../../../api/openvidu-browser/classes/session.html">Session</a> object trigger <code>streamCreated</code> event in every other remote user connected to the session. <br><br></p>
</li>
</ul>
<p>You can add two more parameters to <code>initPublisher</code> method: an object with properties about your publisher stream and a callback function to be executed just after the method finishes and before the publisher object dispatches <code>accessAllowed</code> or <code>accessDenied</code> event:</p>
<pre><code class="javascript">OV.initPublisher(
    targetElement,
    {
        audioSource: undefined, // The source of audio. If undefined default audio input
        videoSource: undefined, // The source of video. If undefined default video input
        publishAudio: true,     // Whether you want to start the publishing with audio unmuted or muted
        publishVideo: true,     // Whether you want to start the publishing with video enabled or disabled
        resolution: '640x480',  // The resolution of your video
        frameRate: 30,          // The frame rate of your video
        insertMode: 'APPEND',   // How the video will be inserted according to targetElement
        mirror: false           // Whether to mirror your local video or not
    },
    (error) =&gt; {                // Function to be executed when the method finishes
        if (error) {
            console.error('Error while initializing publisher: ', error);
        } else {
            console.log('Publisher successfully initialized');
        }
    }
);
</code></pre>

<p>To unpublish the stream:</p>
<pre><code class="javascript">session.unpublish(publisher);
</code></pre>

<p>As long as you have the Publisher object available, you can alternately call <code>Session.publish</code> and <code>Session.unpublish</code> as many times as you want. It is also possible to change the Publisher dynamically (for example if you want to stop transmitting your webcam and start sharing your screen, all of it without leaving the session). To do so:</p>
<pre><code class="javascript">session.unpublish(oldPubliser);
newPublisher = OV.initPublisher(newOptions);
// Register all the events you want with 'newPublisher.on(...)'
session.publish(newPublisher);
</code></pre>

<p><br/></p>
<blockquote>
<p><strong>NOTE</strong>: only users with Role <code>PUBLISHER</code> or <code>MODERATOR</code> can call <code>Session.publish</code> method. You can check <a href="../../../api/openvidu-node-client/enums/openvidurole.html">OpenViduRole</a> section of OpenVidu Node Client for a complete description</p>
</blockquote> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../mute-audio-video/" class="btn btn-xs btn-primary float-right" title="Mute/Unmute audio and video">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../subscribe-unsubscribe/" class="btn btn-xs btn-primary" title="Subscribe/Unsubscribe from a stream"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/how-do-i/publish-unpublish.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>