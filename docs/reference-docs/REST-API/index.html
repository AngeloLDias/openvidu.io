---
layout: docs-layout
title: OpenVidu Documentation - REST  API
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('REST  API')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('REST  API')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/">Intro</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-webcomponent/">openvidu-webcomponent</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Demos</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-call/">openvidu-call</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>How do I ... ?</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/create-session/">Create a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/join-session/">Join a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/leave-session/">Leave a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/manage-videos/">Manage video players</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/share-data/">Share data between users</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Advanced features</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Reference Documentation</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../openvidu-browser/">openvidu-browser API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-java-client/">openvidu-java-client API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-node-client/">openvidu-node-client API</a> 
</li>

   

<li class="toctree-l1 current">
    <a class="current" href="./">REST  API</a>  
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-demos-aws/">Deploying OpenVidu Demos on AWS (TUTORIAL)</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-aws/">Deploying OpenVidu Server and your app on AWS</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-ubuntu/">Deploying OpenVidu in Ubuntu</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/custom-certificate/">Using your own certificate</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">REST API</h2>

<hr>

<p>All REST operations have in common the header referred to authorization. It is implemented via Basic Auth, and it is as simple as applying Base64 encoding to the username (always "OPENVIDUAPP") and the password (your <strong>secret</strong> shared with openvidu-server). If authorization header is wrong, every call to any REST API operation will return HTTP status <code>401</code>.</p>
<p>For example, for secret "MY_SECRET", the final valid HTTP header would be</p>
<blockquote>
<p><code>Authorization: Basic T1BFTlZJRFVBUFA6TVlfU0VDUkVU</code></p>
</blockquote>
<h3 id="list-of-available-operations">List of available operations</h3>
<p><br></p>
<ul>
<li>Initialize a session: <a href="#post-apisessions"><strong>POST /api/sessions</strong></a></li>
<li>Generate a token: <a href="#post-apitokens"><strong>POST /api/tokens</strong></a></li>
<li>Retrieve active session info: <a href="#get-apisessionssession_id"><strong>GET /api/sessions/&lt;SESSION_ID&gt;</strong></a></li>
<li>Retrieve all active sessions info: <a href="#get-apisessions"><strong>GET /api/sessions</strong></a></li>
<li>Close a session: <a href="#delete-apisessionssession_id"><strong>DELETE /api/sessions/&lt;SESSION_ID&gt;</strong></a></li>
<li>Force the disconnection of a user from a session: <a href="#delete-apisessionssession_idconnectionconnection_id"><strong>DELETE /api/sessions/&lt;SESSION_ID&gt;/connection/&lt;CONNECTION_ID&gt;</strong></a></li>
<li>Force the unpublishing of a user's stream from a session: <a href="#delete-apisessionssession_idstreamstream_id"><strong>DELETE /api/sessions/&lt;SESSION_ID&gt;/stream/&lt;STREAM_ID&gt;</strong></a></li>
<li>Start the recording of a session: <a href="#post-apirecordingsstart"><strong>POST /api/recordings/start</strong></a></li>
<li>Stop the recording of a session: <a href="#post-apirecordingsstoprecording_id"><strong>POST/api/recordings/stop/&lt;RECORDING_ID&gt;</strong></a></li>
<li>Get recording info: <a href="#get-apirecordingsrecording_id"><strong>GET /api/recordings/&lt;RECORDING_ID&gt;</strong></a></li>
<li>Get all recordings info: <a href="#get-apirecordings"><strong>GET /api/recordings</strong></a></li>
<li>Delete a recording: <a href="#delete-apirecordingsrecording_id"><strong>DELETE /api/recordings/&lt;RECORDING_ID&gt;</strong></a></li>
</ul>
<hr />
<h3 id="post-apisessions">POST <code>/api/sessions</code></h3>
<table>
<thead>
<tr>
<th><em>NEW SESSIONID</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>POST</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/sessions</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/json</td>
</tr>
<tr>
<td><strong>Body</strong></td>
<td><code>{"mediaMode": "MEDIA_MODE", "recordingMode": "RECORDING_MODE", "defaultRecordingLayout": "RECORDING_LAYOUT", "defaultCustomLayout": "CUSTOM_LAYOUT", "customSessionId": "CUSTOM_SESSION_ID"}</code></td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"id": "wss://localhost:4443/jpifeuzfati5qaj8"}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Body parameters</strong></p>
<hr />
<ul>
<li><strong>mediaMode</strong> <em>(optional)</em><ul>
<li><code>ROUTED</code> <em>(default)</em> : Media streams will be routed through OpenVidu Server. This Media Mode is mandatory for session recording</li>
<li>Not available yet: <code>RELAYED</code><br><br></li>
</ul>
</li>
<li><strong>recordingMode</strong> <em>(optional)</em><ul>
<li><code>ALWAYS</code>: Automatic recording from the first user publishing until the last participant leaves the session</li>
<li><code>MANUAL</code> <em>(default)</em> : If you want to manage when start and stop the recording<br><br></li>
</ul>
</li>
<li><strong>defaultRecordingLayout</strong> <em>(optional)</em><ul>
<li><code>BEST_FIT</code><em>(default)</em> : A grid layout where all the videos are evenly distributed</li>
<li><code>CUSTOM</code>: Use your own custom layout. See <a href="../../advanced-features/recording/#custom-recording-layouts">Custom recording layouts</a> section to learn how</li>
<li>Not available yet: <code>PICTURE_IN_PICTURE</code>, <code>VERTICAL_PRESENTATION</code>, <code>HORIZONTAL_PRESENTATION</code><br><br></li>
</ul>
</li>
<li><strong>defaultCustomLayout</strong> <em>(optional)</em><ul>
<li>A relative path indicating the custom recording layout to be used if more than one is available. Only applies if <code>defaultRecordingLayout</code> is set to <code>CUSTOM</code>. Default to empty string (if so custom layout expected under path set with <a href="../openvidu-server-params/">openvidu-server configuration</a> property <code>openvidu.recording.custom-layout</code>)<br><br></li>
</ul>
</li>
<li><strong>customSessionId</strong> <em>(optional)</em><ul>
<li>You can fix the <code>sessionId</code> that will be assigned to the session with this parameter. If you make another request with the exact same <code>customSessionId</code> while previous session already exists, no session will be created and a <code>409</code> http response will be returned. If this parameter is an empty string or not sent at all, OpenVidu Server will generate a random sessionId for you.</li>
</ul>
</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>id</code>: session identifier. Store it for generating tokens and starting session's recording. It is actually the URL where the client will connect to access the session</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: session successfully created and sessionId ready to be used</li>
<li><code>400</code>: problem with body parameters</li>
<li><code>409</code>: parameter <code>customSessionId</code> corresponds to an existing session. There has been no change at all in the state of OpenVidu Server</li>
</ul>
</blockquote>
<hr />
<h3 id="post-apitokens">POST <code>/api/tokens</code></h3>
<table>
<thead>
<tr>
<th><em>NEW TOKEN</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>POST</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/tokens</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/json</td>
</tr>
<tr>
<td><strong>Body</strong></td>
<td><code>{"session": "SESSION_ID", "role": "ROLE", "data": "DATA"}</code></td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"token": "tjyqiq2dw1j4fxjr", "session": "wss://localhost:4443/jpifeuzfati5qaj8", "role": "PUBLISHER", "data": "secure_user_data", "id": "tjyqiq2dw1j4fxjr"}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Body parameters</strong></p>
<hr />
<ul>
<li><strong>session</strong>: the sessionId for which the token should be associated<br><br></li>
<li><strong>role</strong> <em>(optional. Check <a href="../../../api/openvidu-node-client/enums/openvidurole.html">OpenViduRole</a> section of OpenVidu Node Client for a complete description)</em><ul>
<li><code>SUBSCRIBER</code></li>
<li><code>PUBLISHER</code> <em>(default)</em></li>
<li><code>MODERATOR</code><br><br></li>
</ul>
</li>
<li><strong>data</strong> <em>(optional)</em> : an optional string to associate any metadata to this token (usually participant's information). Maximum 1000 chars</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>token</code>: token value. Send it to one client to pass it as a parameter in openvidu-browser method <code>Session.connect()</code></li>
<li><code>session</code>: same as in the body request</li>
<li><code>role</code>: same as in the body request</li>
<li><code>data</code>: same as in the body request</li>
<li><code>id</code>: same value as <code>token</code></li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: token successfully created and ready to be used by one client to connec to the associated session</li>
<li><code>400</code>: problem with body parameters</li>
</ul>
</blockquote>
<hr />
<h3 id="get-apisessionssession_id">GET <code>/api/sessions/&lt;SESSION_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>GET SESSION INFO</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>GET</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/sessions/&lt;SESSION_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"mediaMode":"ROUTED","recording":false,"sessionId":"TestSession","recordingMode":"MANUAL","connections":{"numberOfElements":2,"content":[{"role":"PUBLISHER","subscribers":[{"streamId":"xm3zcg6d9ntp0qbn_CAMERA_MJALP","publisher":"xm3zcg6d9ntp0qbn"}],"connectionId":"rxrqelmbskpsxwx1","publishers":[],"clientData":"TestClient","serverData":"","token":"wss://localhost:4443?sessionId=TestSession&amp;token=okx9wldlu4u4okmt&amp;role=PUBLISHER&amp;turnUsername=5VKPTG&amp;turnCredential=udv4gy"},{"role":"PUBLISHER","subscribers":[],"connectionId":"xm3zcg6d9ntp0qbn","publishers":[{"streamId":"xm3zcg6d9ntp0qbn_CAMERA_MJALP","mediaOptions":{"hasVideo":true,"frameRate":30,"hasAudio":false,"videoActive":true,"videoDimensions":"{\"width\":640,\"height\":480}","typeOfVideo":"CAMERA"}}],"clientData":"TestClient","serverData":"","token":"wss://localhost:4443?sessionId=TestSession&amp;token=mltylf00bpapshru&amp;role=PUBLISHER&amp;turnUsername=O1NDC2&amp;turnCredential=xcjany"}]},"defaultRecordingLayout":"BEST_FIT"}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>sessionId</code>: identifier of the session (identical to <em>SESSION_ID</em> url parameter)</li>
<li><code>mediaMode</code>: media mode configured for the session (<code>ROUTED</code> or <code>RELAYED</code>)</li>
<li><code>recording</code>: whether the session is being recorded or not at this moment</li>
<li><code>recordingMode</code>: recording mode configured for the session (<code>ALWAYS</code> or <code>MANUAL</code>)</li>
<li><code>defaultRecordingLayout</code>: the default recording layout configured for the session</li>
<li><code>connections</code>: collection of active connections in the session. This object is defined by a <code>numberOfElements</code> property counting the total number of active connections and a <code>content</code> array with the actual connections. Each object of this array has this structure:<ul>
<li><code>connectionId</code>: identifier of the user's connection</li>
<li><code>role</code>: role of the connection</li>
<li><code>clientData</code>: data defined in OpenVidu Browser when calling <a href="../../../api/openvidu-browser/classes/session.html#connect"><code>Session.connect</code></a> (<em>metadata</em> parameter)</li>
<li><code>serverData</code>: data assigned to the user's token when generating the token in OpenVidu Server</li>
<li><code>token</code>: user's token</li>
<li><code>publishers</code>: array of Publisher objects (streams the user is publishing). Each one is defined by the unique <code>streamId</code> property and has a <code>mediaOptions</code> object with the current properties of the published stream ("hasVideo","hasAudio","videoActive","audioActive","frameRate","videoDimensions","typeOfVideo")</li>
<li><code>subscribers</code>: array of Subscriber objects (streams the user is subscribed to). Each on is defined by the unique <code>streamId</code> and a <code>publisher</code> property with the <em>connectionId</em> to identify the connection publishing the stream (must be present inside the <code>connections.content</code> array of the session)</li>
</ul>
</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: the session information has been successfully retrieved</li>
<li><code>404</code>: no session exists for the passed SESSION_ID</li>
</ul>
</blockquote>
<hr />
<h3 id="get-apisessions">GET <code>/api/sessions</code></h3>
<table>
<thead>
<tr>
<th><em>GET ALL SESSION INFO</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>GET</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/sessions</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em></td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"numberOfElements":1,"content":[{"mediaMode":"ROUTED","recording":false,"sessionId":"TestSession","recordingMode":"MANUAL","connections":{"numberOfElements":2,"content":[{"role":"PUBLISHER","subscribers":[{"streamId":"xm3zcg6d9ntp0qbn_CAMERA_MJALP","publisher":"xm3zcg6d9ntp0qbn"}],"connectionId":"rxrqelmbskpsxwx1","publishers":[],"clientData":"TestClient","serverData":"","token":"wss://localhost:4443?sessionId=TestSession&amp;token=okx9wldlu4u4okmt&amp;role=PUBLISHER&amp;turnUsername=5VKPTG&amp;turnCredential=udv4gy"},{"role":"PUBLISHER","subscribers":[],"connectionId":"xm3zcg6d9ntp0qbn","publishers":[{"streamId":"xm3zcg6d9ntp0qbn_CAMERA_MJALP","mediaOptions":{"hasVideo":true,"frameRate":30,"hasAudio":false,"videoActive":true,"videoDimensions":"{\"width\":640,\"height\":480}","typeOfVideo":"CAMERA"}}],"clientData":"TestClient","serverData":"","token":"wss://localhost:4443?sessionId=TestSession&amp;token=mltylf00bpapshru&amp;role=PUBLISHER&amp;turnUsername=O1NDC2&amp;turnCredential=xcjany"}]},"defaultRecordingLayout":"BEST_FIT"}]}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>numberOfElements</code>: total number of active sessions</li>
<li><code>content</code>: array of sessions. Each object has the same structure as defined in the returned JSON of <a href="#get-apisessionssession_id"><strong>GET /api/sessions/<SESSION_ID></strong></a></li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: all the session information has been successfully retrieved</li>
</ul>
</blockquote>
<hr />
<h3 id="delete-apisessionssession_id">DELETE <code>/api/sessions/&lt;SESSION_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>CLOSE SESSION</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>DELETE</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/sessions/&lt;SESSION_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><em>Returns nothing</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>204</code>: the session has been successfully closed. Every participant will have received the proper events in OpenVidu Browser: <a href="../../../api/openvidu-browser/classes/streamevent.html"><code>streamDestroyed</code></a>, <a href="../../../api/openvidu-browser/classes/connectionevent.html"><code>connectionDestroyed</code></a> and <a href="../../../api/openvidu-browser/classes/sessiondisconnectedevent.html"><code>sessionDisconnected</code></a>, all of them with "reason" property set to "sessionClosedByServer". Depending on the order of eviction of the users, some of them will receive more events than the others (the first one will only receive the events related to himself, last one will receive every possible event)</li>
<li><code>404</code>: no session exists for the passed SESSION_ID</li>
</ul>
</blockquote>
<hr />
<h3 id="delete-apisessionssession_idconnectionconnection_id">DELETE <code>/api/sessions/&lt;SESSION_ID&gt;/connection/&lt;CONNECTION_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>FORCE DISCONNECTION</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>DELETE</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/sessions/&lt;SESSION_ID&gt;/connection/&lt;CONNECTION_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><em>Returns nothing</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>204</code>: the user has been successfully evicted from the session. Every participant will have received the proper events in OpenVidu Browser: <a href="../../../api/openvidu-browser/classes/streamevent.html"><code>streamDestroyed</code></a> if the user was publishing, <a href="../../../api/openvidu-browser/classes/connectionevent.html"><code>connectionDestroyed</code></a> for the remaining users and <a href="../../../api/openvidu-browser/classes/sessiondisconnectedevent.html"><code>sessionDisconnected</code></a> for the evicted user. All of them with "reason" property set to "forceDisconnectByServer"</li>
<li><code>400</code>: no session exists for the passed SESSION_ID</li>
<li><code>404</code>: no connection exists for the passed CONNECTION_ID</li>
</ul>
</blockquote>
<hr />
<h3 id="delete-apisessionssession_idstreamstream_id">DELETE <code>/api/sessions/&lt;SESSION_ID&gt;/stream/&lt;STREAM_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>FORCE UNPUBLISHING</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>DELETE</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/sessions/&lt;SESSION_ID&gt;/stream/&lt;STREAM_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><em>Returns nothing</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>204</code>: the stream has been successfully unpublished. Every participant will have received the proper <a href="../../../api/openvidu-browser/classes/streamevent.html"><code>streamDestroyed</code></a> event in OpenVidu Browser with "reason" property set to "forceUnpublishByServer"</li>
<li><code>400</code>: no session exists for the passed SESSION_ID</li>
<li><code>404</code>: no stream exists for the passed STREAM_ID</li>
</ul>
</blockquote>
<hr />
<h3 id="post-apirecordingsstart">POST <code>/api/recordings/start</code></h3>
<table>
<thead>
<tr>
<th><em>START SESSION RECORDING</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>POST</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/recordings/start</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/json</td>
</tr>
<tr>
<td><strong>Body</strong></td>
<td><code>{"session": "SESSION_ID", "name": "NAME", "recordingLayout": "RECORDING_LAYOUT"}</code></td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"createdAt": 1521196095981, "duration": 0, "hasAudio": true, "hasVideo": true, "id": "jpifeuzfati5qaj8", "recordingLayout": "BEST_FIT", "name": "jpifeuzfati5qaj8", "sessionId": "wss://localhost:4443/jpifeuzfati5qaj8", "size": 0, "status": "started", "url": null}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Body parameters</strong></p>
<hr />
<ul>
<li><strong>session</strong>: the sessionId belonging to the session you want to start recording<br><br></li>
<li><strong>name</strong> <em>(optional)</em> : the name you want to give to the video file. You can access this same property in openvidu-browser on recordingEvents. If no name is provided, the video file will be named after <code>id</code> property of the recording<br><br></li>
<li><strong>recordingLayout</strong> <em>(optional)</em> : you can override the <code>defaultRecordingLayout</code> property set on <a href="#post-apisessions">POST /api/sessions</a>. This allows you to use different layouts if you start and stop recording the same session more than once</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>createdAt</code>: time when the recording started in UTC milliseconds</li>
<li><code>duration</code>: duration of the video file in seconds (0 until stop operation is called)</li>
<li><code>hasAudio</code>: true if the recording has an audio track, false otherwise (currently fixed to <code>true</code>)</li>
<li><code>hasVideo</code>: true if the recording has a video track, false otherwise (currently fixed to <code>true</code>)</li>
<li><code>id</code>: recording identifier. Store it to perform other operations such as stop, get or delete the recording</li>
<li><code>recordingLayout</code>: the recording layout that is being used</li>
<li><code>name</code>: name of the recording (currently same as <code>id</code>)</li>
<li><code>sessionId</code>: session associated to the recording (same value as <code>session</code> in the body request)</li>
<li><code>size</code>: size in bytes of the video file (0 until stop operation is called)</li>
<li><code>status</code>: set to <code>"started"</code></li>
<li><code>url</code>: set to <code>null</code></li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: the session has started to be recorded. The moment this response is retrieved, it means that the video file is already created and contains proper data, and that the recording can be stopped with guarantees</li>
<li><code>404</code>: no session exists for the passed SESSION_ID</li>
<li><code>400</code>: the session has no connected participants</li>
<li><code>409</code>: the session is not configured for using MediaMode <code>ROUTED</code> or it is already being recorded</li>
<li><code>501</code>: OpenVidu Server recording module is disabled (<code>openvidu.recording</code> property set to <code>false</code>)</li>
</ul>
</blockquote>
<hr />
<h3 id="post-apirecordingsstoprecording_id">POST <code>/api/recordings/stop/&lt;RECORDING_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>STOP SESSION RECORDING</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>POST</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/recordings/stop/&lt;RECORDING_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"createdAt": 1521196095981, "duration": 20.88, "hasAudio": true, "hasVideo": true, "id": "jpifeuzfati5qaj8", "recordingLayout": "BEST_FIT", "name": "jpifeuzfati5qaj8", "sessionId": "wss://localhost:4443/jpifeuzfati5qaj8", "size": 3766979, "status": "stopped", "url": null}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>createdAt</code>: time when the recording started in UTC milliseconds</li>
<li><code>duration</code>: duration of the video file in seconds</li>
<li><code>hasAudio</code>: true if the recording has an audio track, false otherwise (currently fixed to <code>true</code>)</li>
<li><code>hasVideo</code>: true if the recording has a video track, false otherwise (currently fixed to <code>true</code>)</li>
<li><code>id</code>: recording identifier</li>
<li><code>recordingLayout</code>: the recording layout that is being used</li>
<li><code>name</code>: name of the recording (currently same as <code>id</code>)</li>
<li><code>sessionId</code>: session associated to the recording</li>
<li><code>size</code>: size in bytes of the video file</li>
<li><code>status</code>: set to <code>"stopped"</code> or <code>"available"</code> depending on whether openvidu-server property <em>openvidu.recording.public-access</em> is false or true</li>
<li><code>url</code>: set to <code>null</code> or <code>"https://YOUR_OPENVIDU_SERVER_IP/recordings/&lt;RECORDING_ID&gt;.mp4"</code> depending on whether openvidu-server property <em>openvidu.recording.public-access</em> is false or true</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: the session has successfully stopped from being recorded. The video file is ready to be reproduced</li>
<li><code>400</code>: RECORDING_ID parameter not found in form url-encoded</li>
<li><code>404</code>: no recording exists for the passed RECORDING_ID</li>
<li><code>406</code>: recording has <code>starting</code> status. Wait until <code>started</code> status before stopping the recording</li>
</ul>
</blockquote>
<hr />
<h3 id="get-apirecordingsrecording_id">GET <code>/api/recordings/&lt;RECORDING_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>GET RECORDING INFO</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>GET</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/recordings/&lt;RECORDING_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"createdAt": 1521196095981, "duration": 20.88, "hasAudio": true, "hasVideo": true, "id": "jpifeuzfati5qaj8", "recordingLayout": "BEST_FIT", "name": "jpifeuzfati5qaj8", "sessionId": "wss://localhost:4443/jpifeuzfati5qaj8", "size": 3766979, "status": "stopped", "url": null}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>createdAt</code>: time when the recording started in UTC milliseconds</li>
<li><code>duration</code>: duration of the video file in seconds (0 until stop operation is called)</li>
<li><code>hasAudio</code>: true if the recording has an audio track, false otherwise (currently fixed to <code>true</code>)</li>
<li><code>hasVideo</code>: true if the recording has a video track, false otherwise (currently fixed to <code>true</code>)</li>
<li><code>id</code>: recording identifier. Store it to perform other operations such as stop, get or delete the recording</li>
<li><code>recordingLayout</code>: the recording layout that is being used</li>
<li><code>name</code>: name of the recording (currently same as <code>id</code>)</li>
<li><code>sessionId</code>: session associated to the recording (same value as <code>session</code> in the body request)</li>
<li><code>size</code>: size in bytes of the video file (0 until stop operation is called)</li>
<li><code>status</code>: status of the recording (<code>"starting"</code>, <code>"started"</code>, <code>"stopped"</code>, <code>"available"</code>, <code>"failed"</code>)</li>
<li><code>url</code>: set to <code>null</code> until stop operation is called. Then can be <code>null</code> or <code>"https://YOUR_OPENVIDU_SERVER_IP/recordings/&lt;RECORDING_ID&gt;.mp4"</code> depending on whether openvidu-server property <em>openvidu.recording.public-access</em> is false or true</li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: the recording information has been successfully retrieved</li>
<li><code>404</code>: no recording exists for the passed RECORDING_ID</li>
</ul>
</blockquote>
<hr />
<h3 id="get-apirecordings">GET <code>/api/recordings</code></h3>
<table>
<thead>
<tr>
<th><em>LIST RECORDINGS INFO</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>GET</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/recordings</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em></td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><code>{"count": 2, "items": [{"duration": 132.08, "hasVideo": true, "createdAt": 1521202349460, "hasAudio": true, "size": 22887561, "recordingLayout": "BEST_FIT", "name": "n0kcws1evvn3esmo", "id": "n0kcws1evvn3esmo", "sessionId": "wss://localhost:4443/n0kcws1evvn3esmo", "url": "https://localhost:4443/recordings/n0kcws1evvn3esmo.mp4", "status": "available"}, {"duration": 20.88, "hasVideo": true, "createdAt": 1521200592175, "hasAudio": true, "size": 3766979, "recordingLayout": "BEST_FIT", "name": "gm0hdsv6n8asjgcs", "id": "gm0hdsv6n8asjgcs", "sessionId": "wss://localhost:4443/gm0hdsv6n8asjgcs", "url": "https://localhost:4443/recordings/gm0hdsv6n8asjgcs.mp4", "status": "available"}]}</code></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>Returned JSON</strong></p>
<ul>
<li><code>count</code>: number of total recordings</li>
<li><code>items</code>: array of recording information in JSON format. Each item has the same properties as stated in the return value of method <a href="../../reference-docs/REST-API/#get-apirecordingsrecording_id">GET /api/recordings/<RECORDING_ID></a></li>
</ul>
</blockquote>
<div></div>

<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>200</code>: all of the available recording information has been successfully retrieved</li>
</ul>
</blockquote>
<hr />
<h3 id="delete-apirecordingsrecording_id">DELETE <code>/api/recordings/&lt;RECORDING_ID&gt;</code></h3>
<table>
<thead>
<tr>
<th><em>DELETE RECORDING</em></th>
<th><em>PARAMETERS</em></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operation</strong></td>
<td>DELETE</td>
</tr>
<tr>
<td><strong>URL</strong></td>
<td>https://&lt;YOUR_OPENVIDUSERVER_IP&gt;/api/recordings/&lt;RECORDING_ID&gt;</td>
</tr>
<tr>
<td><strong>Headers</strong></td>
<td>Authorization: Basic <em>EncodeBase64(OPENVIDUAPP:&lt;YOUR_SECRET&gt;)</em><br/>Content-Type: application/x-www-form-urlencoded</td>
</tr>
<tr>
<td><strong>Sample return</strong></td>
<td><em>Returns nothing</em></td>
</tr>
</tbody>
</table>
<blockquote>
<p><strong>HTTP responses</strong></p>
<ul>
<li><code>204</code>: the video file and all of its metadata has been successfully deleted from the host</li>
<li><code>404</code>: no recording exists for the passed RECORDING_ID</li>
<li><code>409</code>: the recording has <code>"started"</code> status. Stop it before deletion</li>
</ul>
</blockquote> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../openvidu-server-params/" class="btn btn-xs btn-primary float-right" title="OpenVidu Server configuration">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../openvidu-node-client/" class="btn btn-xs btn-primary" title="openvidu-node-client API"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/reference-docs/REST-API.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>