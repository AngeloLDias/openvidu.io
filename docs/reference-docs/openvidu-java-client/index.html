---
layout: docs-layout
title: OpenVidu Documentation - openvidu-java-client API
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('openvidu-java-client API')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('openvidu-java-client API')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/">Intro</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../tutorials/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>How do I ... ?</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/create-session/">Create a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/join-session/">Join a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/leave-session/">Leave a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/share-data/">Share data between users</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Advanced features</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Reference Documentation</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../openvidu-browser/">openvidu-browser API</a> 
</li>

   

<li class="toctree-l1 current">
    <a class="current" href="./">openvidu-java-client API</a>  
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-node-client/">openvidu-node-client API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../REST-API/">REST  API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-artifacts/">OpenVidu Artifacts</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-demos-aws/">Deploying OpenVidu Demos on AWS (TUTORIAL)</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-aws/">Deploying OpenVidu Server and your app on AWS</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-ubuntu/">Deploying OpenVidu in Ubuntu</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/custom-certificate/">Using your own certificate</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h2 id="section-title">openvidu-java-client API</h2>

<hr>

<h2 id="code-sample">Code sample</h2>
<p><em>(&gt;= v1.7.0)</em></p>
<pre><code class="java">OpenVidu openvidu = new OpenVidu(OPENVIDU_URL, OPENVIDU_SECRET);
SessionProperties properties = new SessionProperties.Builder().build();
Session session = openVidu.createSession(properties);

// Getting a sessionId
String sessionId = session.getSessionId();

// Getting a token
TokenOptions tokenOptions = new TokenOptions.Builder().build();
String token = session.generateToken(tokenOptions);

// Store all the objects you need for later use and return 'sessionId' and 'token' to the client
</code></pre>

<p><br>
<hr></p>
<h2 id="api">API</h2>
<p><br></p>
<blockquote>
<p>NOTE: all input parameters ("Parameters" columns) are listed in strict order, optional ones in <em>italics</em></p>
</blockquote>
<table>
<thead>
<tr>
<th>Class</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="#openvidu">OpenVidu</a></td>
<td>Use it to create sessions and manage recordings</td>
</tr>
<tr>
<td><a href="#session">Session</a></td>
<td>Allows for the creation of tokens</td>
</tr>
<tr>
<td><a href="#tokenoptions">TokenOptions</a></td>
<td>Customize each token with this class when generating them</td>
</tr>
<tr>
<td><a href="#openvidurole">OpenViduRole</a></td>
<td>Enum that defines the values accepted by <em>TokenOptions.Builder.role(OpenViduRole role)</em> method</td>
</tr>
<tr>
<td><a href="#sessionproperties">SessionProperties</a></td>
<td>Customize each session with this class when creating them</td>
</tr>
<tr>
<td><a href="#mediamode">MediaMode</a></td>
<td>Enum that defines the type of connections in a session: p2p or through OpenVidu Server</td>
</tr>
<tr>
<td><a href="#archivemode">ArchiveMode</a></td>
<td>Enum that defines if automatically start the recording of a session or if it must be explicitly invoked</td>
</tr>
<tr>
<td><a href="#archivelayout">ArchiveLayout</a></td>
<td>Enum that defines the layout for a session recording</td>
</tr>
<tr>
<td><a href="#archive">Archive</a></td>
<td>Represents one recording file</td>
</tr>
<tr>
<td><a href="#archivestatus">Archive.Status</a></td>
<td>Status of the recording</td>
</tr>
</tbody>
</table>
<h4 id="openvidu"><strong>OpenVidu</strong></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>OpenVidu()</td>
<td></td>
<td><code>String:urlOpenViduServer</code><br><code>String:secret</code></td>
<td>The constructor receives the URL of your OpenVidu Server and the secret shared with it</td>
</tr>
<tr>
<td>createSession()</td>
<td><a href="#session">Session</a></td>
<td><em><code>SessionProperties:properties</code></em></td>
<td>Get a Session object by calling this method (optionally configured with <code>properties</code> parameter). You can then store it as you want for later use</td>
</tr>
<tr>
<td>startRecording()</td>
<td><a href="#archive">Archive</a></td>
<td><code>String:sessionId</code></td>
<td>Start the recording for the session with id <code>sessionId</code>. Once the method returns, the recording can be stopped with guarantees</td>
</tr>
<tr>
<td>stopRecording()</td>
<td><a href="#archive">Archive</a></td>
<td><code>String:recordingId</code></td>
<td>Stop the recording with id <code>recordingId</code></td>
</tr>
<tr>
<td>getRecording()</td>
<td><a href="#archive">Archive</a></td>
<td><code>String:recordingId</code></td>
<td>Get the updated information of the recording with id <code>recordingId</code></td>
</tr>
<tr>
<td>listRecordings()</td>
<td>List&lt;<a href="#archive">Archive</a>&gt;</td>
<td></td>
<td>Get the information of all recordings</td>
</tr>
<tr>
<td>deleteRecording()</td>
<td></td>
<td><code>String:recordingId</code></td>
<td>Delete the recording with id <code>recordingId</code></td>
</tr>
</tbody>
</table>
<h4 id="session"><strong>Session</strong></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>generateToken()</td>
<td>String</td>
<td><em><code>TokenOptions:tokenOptions</code></em></td>
<td>The value returned is required in the client side just as the sessionId in order to connect to a session. It is a single-use-only token</td>
</tr>
<tr>
<td>getSessionId()</td>
<td>String</td>
<td></td>
<td>Returns the unique identifier of the session. You will need to return this parameter to the client side to pass it during the connection process to the session</td>
</tr>
<tr>
<td>getProperties()</td>
<td><a href="#sessionproperties">SessionProperties</a></td>
<td></td>
<td>Returns the properties of the session. These define if the media streams will pass through OpenVidu Server or not and the configuration for the sessin recording (if desired)</td>
</tr>
</tbody>
</table>
<h4 id="tokenoptions"><strong>TokenOptions</strong></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>getData()</td>
<td>String</td>
<td></td>
<td>Returns the metadata associated to the token</td>
</tr>
<tr>
<td>getRole()</td>
<td><a href="#openvidurole">OpenViduRole</a></td>
<td></td>
<td>Returns the role associated to the token</td>
</tr>
</tbody>
</table>
<h5 id="tokenoptionsbuilder"><strong>TokenOptions.Builder</strong></h5>
<p><em>(inner static class)</em></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>TokenOptions.Builder()</td>
<td></td>
<td></td>
<td>Constructor</td>
</tr>
<tr>
<td>build()</td>
<td><a href="#tokenoptions">TokenOptions</a></td>
<td></td>
<td>Returns a new <strong>TokenOptions</strong> object with the stablished properties. Default values if methods <em>data()</em> and <em>role()</em> are not called are an empty string and OpenViduRole.PUBLISHER, respectively</td>
</tr>
<tr>
<td>data()</td>
<td><a href="#tokenoptionsbuilder">TokenOptions.Builder</a></td>
<td><code>String:data</code></td>
<td>Some extra metadata to be associated to the user through its token. The structure of this string is up to you (maybe some standarized format as JSON or XML is a good idea), the only restriction is a maximum length of 1000 chars</td>
</tr>
<tr>
<td>role()</td>
<td><a href="#tokenoptionsbuilder">TokenOptions.Builder</a></td>
<td><code>OpenViduRole:role</code></td>
<td>The role associated to this token</td>
</tr>
</tbody>
</table>
<h4 id="openvidurole"><strong>OpenViduRole</strong></h4>
<table>
<thead>
<tr>
<th>Enum</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SUBSCRIBER</td>
<td>They can subscribe to published streams of other users</td>
</tr>
<tr>
<td>PUBLISHER</td>
<td>They can subscribe to published streams of other users and publish their own streams</td>
</tr>
<tr>
<td>MODERATOR</td>
<td>They can subscribe to published streams of other users, publish their own streams and force <em>unpublish()</em> and <em>disconnect()</em> over a third-party stream or user</td>
</tr>
</tbody>
</table>
<h4 id="sessionproperties"><strong>SessionProperties</strong></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>archiveLayout()</td>
<td><a href="#archivelayout">ArchiveLayout</a></td>
<td></td>
<td>Returns the ArchiveLayout associated to the session</td>
</tr>
<tr>
<td>archiveMode()</td>
<td><a href="#archivemode">ArchiveMode</a></td>
<td></td>
<td>Returns the ArchiveMode associated to the session</td>
</tr>
<tr>
<td>mediaMode()</td>
<td><a href="#mediamode">MediaMode</a></td>
<td></td>
<td>Returns the MediaMode associated to the session</td>
</tr>
</tbody>
</table>
<h5 id="sessionpropertiesbuilder"><strong>SessionProperties.Builder</strong></h5>
<p><em>(inner static class)</em></p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>SessionProperties.Builder()</td>
<td></td>
<td></td>
<td>Constructor</td>
</tr>
<tr>
<td>archiveLayout()</td>
<td><a href="#sessionpropertiesbuilder">SessionProperties.Builder</a></td>
<td><code>ArchiveLayout:archiveLayout</code></td>
<td>Some extra metadata to be associated to the user through its token. The structure of this string is up to you (maybe some standarized format as JSON or XML is a good idea), the only restriction is a maximum length of 1000 chars</td>
</tr>
<tr>
<td>archiveMode()</td>
<td><a href="#sessionpropertiesbuilder">SessionProperties.Builder</a></td>
<td><code>ArchiveMode:archiveMode</code></td>
<td>The role associated to this token</td>
</tr>
<tr>
<td>mediaMode()</td>
<td><a href="#sessionpropertiesbuilder">SessionProperties.Builder</a></td>
<td><code>MediaMode:mediaMode</code></td>
<td>The role associated to this token</td>
</tr>
<tr>
<td>build()</td>
<td><a href="#sessionproperties">SessionProperties</a></td>
<td></td>
<td>Returns a new <strong>TokenOptions</strong> object with the stablished properties. Default values if methods <em>data()</em> and <em>role()</em> are not called are an empty string and OpenViduRole.PUBLISHER, respectively</td>
</tr>
</tbody>
</table>
<h4 id="mediamode"><strong>MediaMode</strong></h4>
<table>
<thead>
<tr>
<th>Enum</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>RELAYED</td>
<td>The session will attempt to transmit streams directly between clients (P2P)<br><strong><em>(feature not available yet)</em></strong></td>
</tr>
<tr>
<td>ROUTED</td>
<td><em>DEFAULT</em> The session will transmit streams using OpenVidu Media Server. This is the mandatory option for session recording</td>
</tr>
</tbody>
</table>
<h4 id="archivemode"><strong>ArchiveMode</strong></h4>
<table>
<thead>
<tr>
<th>Enum</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ALWAYS</td>
<td>The session recording will start automatically as soon as the first participant publishes a stream. It will end automatically when the last participant leaves the session (or you can call <code>OpenVidu.stopRecording()</code>)</td>
</tr>
<tr>
<td>MANUAL</td>
<td><em>DEFAULT</em> The session recording only starts when <code>OpenVidu.startRecording()</code> method is called and stops only when <code>OpenVidu.stopRecording()</code> is called</td>
</tr>
</tbody>
</table>
<h4 id="archivelayout"><strong>ArchiveLayout</strong></h4>
<table>
<thead>
<tr>
<th>Enum</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>BEST_FIT</td>
<td><em>DEFAULT</em> Grid layout where all the videos are evenly distributed, taking up as much space as possible</td>
</tr>
</tbody>
</table>
<h4 id="archive"><strong>Archive</strong></h4>
<table>
<thead>
<tr>
<th>Method</th>
<th>Returns</th>
<th>Parameters</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>getId()</td>
<td>String</td>
<td></td>
<td>Returns the recording identifier</td>
</tr>
<tr>
<td>getName()</td>
<td>String</td>
<td></td>
<td>Returns the recording name</td>
</tr>
<tr>
<td>getSessionId()</td>
<td>String</td>
<td></td>
<td>Returns the session identifier associated to this recording</td>
</tr>
<tr>
<td>getCreatedAt()</td>
<td>long</td>
<td></td>
<td>Returns the time when the recording started (UTC milliseconds)</td>
</tr>
<tr>
<td>getSize()</td>
<td>long</td>
<td></td>
<td>Returns the size of the recording in bytes (0 until the recording is stopped)</td>
</tr>
<tr>
<td>getDuration()</td>
<td>double</td>
<td></td>
<td>Returns the duration of the recording in seconds (0 until the recording is stopped)</td>
</tr>
<tr>
<td>hasAudio()</td>
<td>boolean</td>
<td></td>
<td>Returns if the recording has audio tracks (currently fixed to true)</td>
</tr>
<tr>
<td>hasVideo()</td>
<td>boolean</td>
<td></td>
<td>Returns if the recording has video tracks (currently fixed to true)</td>
</tr>
<tr>
<td>getStatus()</td>
<td><a href="#archivestatus">Archive.Status</a></td>
<td></td>
<td>Returns the status of the recording</td>
</tr>
</tbody>
</table>
<h5 id="archivestatus"><strong>Archive.Status</strong></h5>
<p><em>(inner enum)</em></p>
<table>
<thead>
<tr>
<th>Enum</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>starting</td>
<td>The recording is starting (cannot be stopped)</td>
</tr>
<tr>
<td>started</td>
<td>The recording has started and is going on</td>
</tr>
<tr>
<td>stopped</td>
<td>The recording has finished OK</td>
</tr>
<tr>
<td>available</td>
<td>The recording is available for downloading. This status is reached for all stopped recordings if openvidu-server property <code>openvidu.recording.free-access</code> is true</td>
</tr>
<tr>
<td>failed</td>
<td>The recording has failed</td>
</tr>
</tbody>
</table> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../openvidu-node-client/" class="btn btn-xs btn-primary float-right" title="openvidu-node-client API">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../openvidu-browser/" class="btn btn-xs btn-primary" title="openvidu-browser API"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/reference-docs/openvidu-java-client.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>