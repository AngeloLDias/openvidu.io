---
layout: docs-layout
title: OpenVidu Documentation - openvidu-android
active: documentation
---

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>
	hljs.initHighlightingOnLoad();
</script>

<script src="/js/plugins/jquery.min.js"></script>
<script src="/js/perfect-scrollbar.min.js"></script>
<link rel="stylesheet" href="/css/perfect-scrollbar.css" />

<div id="doc-container" class="container text-justify">
	<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

		
		<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
			<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
				<div id="site-menu-title">
					<h3>Explore docs</h3>
					<hr>
				</div>
				<ul id="menu-list">
					 
					<li>
						<ul class="top-ul ">

<li class="toctree-l1 ">
        <a class="" href="/docs/home/">What is OpenVidu?</a> 
</li>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul current">

<li 
        class="subnav_drop current">
        <div style="display: flex; justify-content: space-between">
                <span>Tutorials</span>
                <div>
                        
                        <span class="arrow-up">▴</span>
                        <span class="arrow-down" style="display: none">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/">Intro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-webcomponent/">openvidu-webcomponent</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-hello-world/">openvidu-hello-world</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-library-angular/">openvidu-library-angular</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-insecure-react/">openvidu-insecure-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-library-react/">openvidu-library-react</a> 
</li>

  

<li class="toctree-l1 current">
        <a class="current" href="/docs/tutorials/openvidu-android/">openvidu-android</a>  
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-ionic/">openvidu-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-react-native/">openvidu-react-native</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-electron/">openvidu-electron</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-js-java/">openvidu-js-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-js-node/">openvidu-js-node</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/tutorials/openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Demos</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/demos/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/demos/openvidu-call/">openvidu-call</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/demos/openvidu-call-react/">openvidu-call-react</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/demos/openvidu-call-ionic/">openvidu-call-ionic</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/demos/openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Cheatsheet</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/join-session/">Join a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/leave-session/">Leave a session</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/manage-videos/">Manage video players</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/share-data/">Share data between users</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/cheatsheet/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Advanced features</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/recording/">Recording</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/screen-share/">Screen share</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/ip-cameras/">IP cameras</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/speech-detection/">Speech detection</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/filters/">Voice and video filters</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/switch-camera/">Switch camera</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/advanced-features/automatic-reconnection/">Automatic reconnection</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Reference Documentation</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/openvidu-browser/">openvidu-browser API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/openvidu-java-client/">openvidu-java-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/openvidu-node-client/">openvidu-node-client API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/REST-API/">REST API</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/reference-docs/openvidu-server-webhook/">OpenVidu Server Webhook</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Deployment</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/deployment/deploying-aws/">Deploying OpenVidu on AWS</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/deployment/deploying-ubuntu/">Deploying OpenVidu on Ubuntu</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/deployment/deploying-app/">Deploying your OpenVidu app</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/deployment/upgrading/">Upgrading OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Contribute</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/developing/">Developing OpenVidu</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/developing/rpc/">OpenVidu Server RPC protocol</a> 
</li>

 
</li>
</ul>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li class="toctree-l1 ">
        <a class="" href="/docs/troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li class="toctree-l1 ">
        <a class="" href="/docs/releases/">Releases</a> 
</li>

</ul>
					</li>
					  
					<li>
						<ul class="top-ul ">

<li  style="width: 100%; display: inline-block" 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>OpenVidu Pro</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                        <a style="all: unset; display: inline">
                                <div id="openvidu-pro-tag"
                                        style=" pointer-events: none; float: left; margin-right: 12px; background-color: rgb(0, 136, 170); color: white; font-weight: bold; padding: 0px 5px; border-radius: 3px; font-size: 13px; line-height:21px; font-family: Montserrat, sans-serif;">
                                        PRO</div>
                        </a>
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/">Home</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/scalability/">Scalability</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/openvidu-inspector/">OpenVidu Inspector</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/detailed-session-monitoring/">Detailed session monitoring</a> 
</li>

  

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Deploying OpenVidu Pro</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/deployment/aws/">AWS</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/deployment/on-premise/">On premise</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/deployment/kubernetes/">Kubernetes</a> 
</li>

 
</li>
</ul>

  

<li 
        class="subnav_drop ">
        <div style="display: flex; justify-content: space-between">
                <span>Reference Documentation</span>
                <div>
                        
                        <span class="arrow-up" style="display: none">▴</span>
                        <span class="arrow-down">▾</span>
                        
                        
                </div>
        </div>
        <ul class="subnav" hidden>
                 

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/reference-docs/REST-API-pro/">REST API Pro</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/reference-docs/openvidu-server-pro-params/">OpenVidu Server Pro configuration</a> 
</li>

  

<li class="toctree-l1 ">
        <a class="" href="/docs/openvidu-pro/reference-docs/openvidu-server-pro-cdr/">OpenVidu Server Pro CDR</a> 
</li>

 
</li>
</ul>

 
</li>
</ul>

</ul>
					</li>
					 
				</ul>
			</div>
			&nbsp;
		</nav>
	</div>

	<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
		
		<div>
			<div>

				<div role="main">
					<div class="section">
						 <h1 id="openvidu-android">openvidu-android</h1>
<p><a href="https://github.com/OpenVidu/openvidu-tutorials/tree/master/openvidu-android" target="_blank"><i class="icon ion-social-github"> Check it on GitHub</i></a></p>
<p>A client-side only <strong>Android native</strong> application built with <strong>Java</strong> and using official <strong>Google WebRTC library</strong>.</p>
<p>If it is the first time you use OpenVidu, it is highly recommended to start first with <strong><a href="/docs/tutorials/openvidu-hello-world/" target="_blank">openvidu-hello-world</a></strong> tutorial due to this being a native Android app and being a little more complex for OpenVidu starters.</p>
<div style="
    display: table;
    border: 2px solid #0088aa9e;
    border-radius: 5px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 25px;
    padding: 5px 0 5px 0;
    background-color: rgba(0, 136, 170, 0.04);"><div style="display: table-cell; vertical-align: middle;">
    <i class="icon ion-android-alert" style="
    font-size: 50px;
    color: #0088aa;
    display: inline-block;
    padding-left: 25%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">
     OpenVidu does not provide an Android client SDK yet, so this application directly implements <a href="/docs/developing/rpc/" target="_blank">OpenVidu Server RPC protocol</a>. In other words, it internally implements what <a target="_blank" href="/docs/reference-docs/openvidu-browser">openvidu-browser</a> library does. Everything about this implementation is explained in section <a href="#using-openvidu-server-rpc-protocol">Using OpenVidu Server RPC protocol</a>
</div>
</div>

<h2 id="understanding-this-tutorial">Understanding this tutorial</h2>
<p align="center">
  <img class="img-responsive" src="/img/tutorials/openvidu-android.png">
</p>

<p>OpenVidu is composed by the three modules displayed on the image above in its insecure version.</p>
<ul>
<li><strong>openvidu-android</strong>: Android application built with Java connected to OpenVidu through websocket</li>
<li><strong>openvidu-server</strong>: Java application that controls Kurento Media Server</li>
<li><strong>Kurento Media Server</strong>: server that handles low level operations of media flow transmissions</li>
</ul>
<h2 id="running-this-tutorial">Running this tutorial</h2>
<div style="
    display: table;
    border: 2px solid #0088aa9e;
    border-radius: 5px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 25px;
    padding: 5px 0 5px 0;
    background-color: rgba(0, 136, 170, 0.04);"><div style="display: table-cell; vertical-align: middle;">
    <i class="icon ion-android-alert" style="
    font-size: 50px;
    color: #0088aa;
    display: inline-block;
    padding-left: 25%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">
    This tutorial is compatible for Android >= 5.0 (API level >= 21)
</div>
</div>

<p>To deploy the Android APK you need to have <strong>Android Studio</strong>, an <strong>Android device</strong> (recommended) or an <strong>Android emulator</strong> and <strong>Android SDK</strong> installed.
You can download Android Studio <a href="https://developer.android.com/studio/index.html" target="_blank">here</a>. You also can check the <a href="https://developer.android.com/studio/intro" target="_blank">official Android Studio guide</a></p>
<p>After we have set up Android Studio we must continue with the following commands:</p>
<p><strong>1)</strong> Clone the repo</p>
<pre><code class="bash">git clone https://github.com/OpenVidu/openvidu-tutorials.git
</code></pre>

<p><strong>2)</strong> Open <strong>Android Studio</strong> and import the project <em>(openvidu-tutorials/openvidu-android)</em></p>
<p><strong>3)</strong> Now you need the IP of your PC in the network. In Linux/OSX you can simply get it by running this command on your shell</p>
<pre><code class="console">awk '/inet / &amp;&amp; $2 != &quot;127.0.0.1&quot;{print $2}' &lt;(ifconfig)
</code></pre>

<blockquote>
<p>It will probably output something like <code>192.168.0.105</code>. Your <strong>complete OpenVidu public url</strong> would then be <code>https://192.168.0.105:4443/</code></p>
</blockquote>
<p>When you have your OpenVidu public url, you must set it in <code>default_openvidu_url</code> variable <a href="https://github.com/OpenVidu/openvidu-tutorials/blob/1439f20bce6cee1f3d4b6495c9f2c05d672d4b65/openvidu-android/app/src/main/res/values/strings.xml#L10" target="_blank"><strong>in the app</strong></a> and in the <code>openvidu.publicurl</code> parameter used to run <em>openvidu-server</em> (see next point)</p>
<p><strong>4)</strong> <em>openvidu-server</em> and <em>Kurento Media Server</em> must be up and running in your development machine. The easiest way is running this Docker container which wraps both of them (you will need <a href="https://store.docker.com/search?type=edition&amp;offering=community" target="_blank">Docker CE</a>)</p>
<pre><code class="bash">docker run -p 4443:4443 --rm -e openvidu.secret=MY_SECRET -e openvidu.publicurl=YOUR_OPENVIDU_PUBLIC_URL openvidu/openvidu-server-kms:2.12.0
</code></pre>

<blockquote>
<p>Remember changing <code>openvidu.publicurl</code> parameter to the actual value. In this example that would be:<br><code>-e openvidu.publicurl=https://192.168.0.105:4443/</code></p>
</blockquote>
<p><strong>5)</strong> Connect the device to the same network as your PC</p>
<p><strong>6)</strong> In Android Studio, you must modify the websocket address inside of <strong>strings.xml</strong> file.</p>
<p>To do that, in Android Studio, go to <code>app &gt; res &gt; values &gt; strings.xml</code>. The value of <code>default_openvidu_url</code> will must be the IP of your PC.</p>
<p>In this example that would be: <code>https://192.168.0.105:4443/</code></p>
<p><strong>7)</strong> Connect the device to the PC. You must enable USB debugging and give permissions (check out <a href="https://developer.android.com/training/basics/firstapp/running-app" target="_blank">official Android docs</a>)</p>
<p><strong>8)</strong> Run the tutorial. In Android Studio, click the <strong>app</strong> module in the <strong>Project</strong> window and then select <strong>Run</strong> &gt; <strong>Run</strong> .
   In the <strong>Select Deployment Target</strong> window, select your device, and click <strong>OK</strong>.</p>
<p align="center">
  <img class="img-responsive" style="padding: 25px 0" src="/img/demos/openvidu-android-devices.png">
</p>

<p><br></p>
<div class="row no-margin ">
    <div class="col-md-6 col-sm-6">
        <a data-fancybox="gallery2" href="/img/demos/ov-android.png">
        <img class="img-responsive" src="/img/demos/ov-android.png">
    </a>
    </div>
    <div class="col-md-6 col-sm-6">
        <a data-fancybox="gallery2" href="/img/demos/ov-android2.png">
        <img class="img-responsive" src="/img/demos/ov-android2.png">
    </a>
    </div>
</div>

<hr />
<h2 id="understanding-the-code">Understanding the code</h2>
<p>This is an Android project generated with Android Studio, and therefore you will see lots of configuration files and other stuff that doesn't really matter to us. We will focus on the following files under <code>app/java</code> folder:</p>
<ul>
<li><code>SessionActivity.java</code>: this class defines the only Android activity of the app.</li>
<li><code>Participant.java</code>: it is related to the participants info, such as connection information and their UI elements. This is the parent class of <code>RemoteParticipant</code> and <code>LocalParticipant</code>.</li>
<li><code>Session.java</code>: this manages the collection of Participant objects, the behavior of SessionActivity layout and takes care of the creation of PeerConnection objects.</li>
<li><code>CustomWebSocket.java</code>: the negotiation with <strong>openvidu-server</strong> takes place in this class. Its responsibility is to send RPC methods and listen to openvidu-server events through a websocket connection. To sum up, it implements <a href="http://localhost:4000/docs/developing/rpc/">OpenVidu Server RPC protocol</a>.</li>
</ul>
<p><br></p>
<hr />
<h4 id="websocket-address-session-name-and-participant-name">WebSocket address, session name and participant name</h4>
<p>As stated above in <a href="#running-this-tutorial">Running this tutorial</a>, you have to modify the value of <code>default_openvidu_url</code> with the IP of your PC in file <code>res &gt; values &gt; strings.xml</code>. For example:</p>
<pre><code class="xml">&lt;string name=&quot;default_openvidu_url&quot;&gt;https://192.168.0.105:4443/&lt;/string&gt;
</code></pre>

<p>Besides, you can change the default values for the local participant name (<code>default_participant_name</code>) and session name (<code>default_session_name</code>). These will appear as default values in the form to connect to a session.</p>
<pre><code class="xml">&lt;string name=&quot;default_session_name&quot;&gt;SessionA&lt;/string&gt;
&lt;string name=&quot;default_participant_name&quot;&gt;Participant&lt;/string&gt;
</code></pre>

<p><br></p>
<hr />
<h4 id="get-a-token-from-openvidu-server">Get a <em>token</em> from OpenVidu Server</h4>
<div style="
    display: table;
    border: 2px solid #0088aa9e;
    border-radius: 5px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 25px;
    padding: 5px 0 5px 0;
    background-color: rgba(0, 136, 170, 0.04);"><div style="display: table-cell; vertical-align: middle;">
    <i class="icon ion-android-alert" style="
    font-size: 50px;
    color: #0088aa;
    display: inline-block;
    padding-left: 25%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">
    <strong>WARNING</strong>: This is why this tutorial is an insecure application. We need to ask OpenVidu Server for a user token in order to connect to our session. <strong>This process should entirely take place in our server-side</strong>, not in our client-side. But due to the lack of an application backend in this tutorial, the Angular front itself will perform the POST operations to OpenVidu Server
</div>
</div>

<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/activities/SessionActivity.java" target="_blank">src/main/java/io/openvidu/openvidu_android/activities/SessionActivity.java</a></p>

<pre><code class="java">private void getToken(String sessionId) {
    // See next point to see how to connect to the session using 'token'
    ...
}
</code></pre>

<p>Now we need a token from OpenVidu Server. In a production environment we would perform this operations in our application backend, by making use of the <em><a href="/docs/reference-docs/REST-API/" target="_blank">REST API</a></em>, <em><a href="/docs/reference-docs/openvidu-java-client/" target="_blank">OpenVidu Java Client</a></em> or <em><a href="/docs/reference-docs/openvidu-node-client/" target="_blank">OpenVidu Node Client</a></em>. Here we have implemented the POST requests to OpenVidu Server in a method <code>getToken()</code>. Without going into too much detail, this method performs two <em>POST</em> requests to OpenVidu Server, passing OpenVidu Server secret to authenticate them. We use an http-client we have wrapped in class <a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/utils/CustomHttpClient.java" target="_blank"><code>CustomHttpClient</code></a>.</p>
<ul>
<li>First request performs a POST to <code>/api/sessions</code> (we send a <code>customSessionId</code> field to force the id of the session to be the value retrieved from the view's form. This way we don't need a server side to connect multiple users to the same session)</li>
<li>Second request performs a POST to <code>/api/tokens</code> (we send a <code>session</code> field to assign the token to this same session)</li>
</ul>
<p>You can inspect this method in detail in the <a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/activities/SessionActivity.java#L136" target="_blank">GitHub repo</a>.</p>
<p><br></p>
<hr />
<h4 id="when-token-available-start-the-process-to-connect-to-openvidu-server">When token available start the process to connect to openvidu-server</h4>
<p>Once we have gotten the token, we can set up our session object, our camera and the websocket.
We create our <strong>session</strong>, our <strong>localParticipant</strong> and <strong>capture the camera</strong>:</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/activities/SessionActivity.java" target="_blank">src/main/java/io/openvidu/openvidu_android/activities/SessionActivity.java</a></p>

<pre><code class="java">private void getTokenSuccess(String token, String sessionId) {
    // Initialize our session object
    session = new Session(sessionId, token, views_container, this);

    // Initialize our local participant and start local camera
    String participantName = participant_name.getText().toString();
    LocalParticipant localParticipant = new LocalParticipant(participantName, session, this.getApplicationContext(), localVideoView);
    localParticipant.startCamera();
    runOnUiThread(() -&gt; {
        // Update local participant view
        main_participant.setText(participant_name.getText().toString());
        main_participant.setPadding(20, 3, 20, 3);
    });

    // Initialize and connect the websocket to OpenVidu Server
    startWebSocket();
}
</code></pre>

<p>To configure the <strong>session</strong>, we are going to initialize and build the <code>PeerConnectionFactory</code>. This is the way to initialize WebRTC peer connections with the official Google WebRTC library for Android.</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/openvidu/Session.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/Session.java</a></p>

<pre><code class="Java">//Creating a new PeerConnectionFactory instance
PeerConnectionFactory.InitializationOptions.Builder optionsBuilder = PeerConnectionFactory.InitializationOptions.builder(activity.getApplicationContext());
optionsBuilder.setEnableInternalTracer(true);
PeerConnectionFactory.InitializationOptions opt = optionsBuilder.createInitializationOptions();
PeerConnectionFactory.initialize(opt);
PeerConnectionFactory.Options options = new PeerConnectionFactory.Options();

// Using sofware encoder and decoder.
final VideoEncoderFactory encoderFactory;
final VideoDecoderFactory decoderFactory;
encoderFactory = new SoftwareVideoEncoderFactory();
decoderFactory = new SoftwareVideoDecoderFactory();

peerConnectionFactory = PeerConnectionFactory.builder()
        .setVideoEncoderFactory(encoderFactory)
        .setVideoDecoderFactory(decoderFactory)
        .setOptions(options)
        .createPeerConnectionFactory();
</code></pre>

<p><br></p>
<hr />
<h4 id="capture-the-camera">Capture the camera</h4>
<p>Android provides us a very easy way to use <strong>Camera</strong> API. This API includes support for various cameras and camera features available on devices, allowing you to capture pictures and videos in your application. In the end, we need to store the video track.</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/openvidu/LocalParticipant.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/LocalParticipant.java</a></p>

<pre><code class="java">public void startCamera() {

    final EglBase.Context eglBaseContext = EglBase.create().getEglBaseContext();
    PeerConnectionFactory peerConnectionFactory = this.session.getPeerConnectionFactory();

    // Create AudioSource
    AudioSource audioSource = peerConnectionFactory.createAudioSource(new MediaConstraints());
    this.audioTrack = peerConnectionFactory.createAudioTrack(&quot;101&quot;, audioSource);

    surfaceTextureHelper = SurfaceTextureHelper.create(&quot;CaptureThread&quot;, eglBaseContext);

    // Create VideoCapturer
    VideoCapturer videoCapturer = createCameraCapturer();
    VideoSource videoSource = peerConnectionFactory.createVideoSource(videoCapturer.isScreencast());
    videoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());
    videoCapturer.startCapture(480, 640, 30);

    // Create VideoTrack
    this.videoTrack = peerConnectionFactory.createVideoTrack(&quot;100&quot;, videoSource);

    // Display in localView
    this.videoTrack.addSink(localVideoView);
}
</code></pre>

<p>Since API level 21, <code>Camera</code> class was deprecated. Android introduced <code>Camera2</code> with Android 5.0 (API level 21) and above. As the <a href="https://developer.android.com/guide/topics/media/camera" target="_blank">Android official documentation</a> recommends, we should use Camera2 on supported devices.</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/openvidu/LocalParticipant.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/LocalParticipant.java</a></p>

<pre><code class="java">private VideoCapturer createCameraCapturer() {
    CameraEnumerator enumerator;
    if (Build.VERSION.SDK_INT &gt; Build.VERSION_CODES.LOLLIPOP) {
        enumerator = new Camera2Enumerator(this.context);
    } else {
        enumerator = new Camera1Enumerator(false);
    }
    final String[] deviceNames = enumerator.getDeviceNames();

    // Try to find front facing camera
    for (String deviceName : deviceNames) {
        if (enumerator.isFrontFacing(deviceName)) {
            videoCapturer = enumerator.createCapturer(deviceName, null);
            if (videoCapturer != null) {
                return videoCapturer;
            }
        }
    }
    // Front facing camera not found, try something else
    for (String deviceName : deviceNames) {
        if (!enumerator.isFrontFacing(deviceName)) {
            videoCapturer = enumerator.createCapturer(deviceName, null);
            if (videoCapturer != null) {
                return videoCapturer;
            }
        }
    }
    return null;
}
</code></pre>

<p>We also have to think about the media permissions. You can take a look to the Android permissions under section <a href="#android-specific-requirements">Android specific requirements</a>.</p>
<p><br></p>
<hr />
<h4 id="connect-the-websocket-to-openvidu-server">Connect the websocket to OpenVidu Server</h4>
<p>Ath this point, we will establish a connection between <strong>openvidu-server</strong> and our Android app through the websocket. This way will be able to consume <a href="/docs/developing/rpc/" target="_blank">OpenVidu Server RPC protocol</a> to interact with the session (in the future, when OpenVidu Android SDK is available, this won't be necessary). We do so in background as an async task so the main execution thread is not blocked.</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/websocket/CustomWebSocket.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/CustomWebSocket.java</a></p>

<pre><code class="java">@Override
protected Void doInBackground(SessionActivity... sessionActivities) {
    try {
        WebSocketFactory factory = new WebSocketFactory();

        //Returns a SSLContext object that implements the specified secure socket protocol
        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);
        sslContext.init(null, trustManagers, new java.security.SecureRandom());
        factory.setSSLContext(sslContext);

        // Set the flag which indicates whether the hostname in the server's certificate should be verified or not.
        factory.setVerifyHostname(false);

        // Connecting the websocket to OpenVidu URL 
        websocket = factory.createSocket(getWebSocketAddress(openviduUrl));
        websocket.addListener(this);
        websocket.connect();
    } catch ( ... )
</code></pre>

<p><br></p>
<hr />
<h3 id="using-openvidu-server-rpc-protocol">Using OpenVidu Server RPC protocol</h3>
<p>Taking the references from <a href="https://openvidu.io/docs/developing/rpc/" target="_blank">OpenVidu Server RPC protocol</a>, we will be able call to the <strong>OpenVidu Server methods</strong> and <strong>receive events</strong> from OpenVidu Server.</p>
<h4 id="listening-to-openvidu-server-events">Listening to OpenVidu Server events</h4>
<p>The app implements a method to handle event messages received from openvidu server. This will be essential in order to know when <strong>ice candidates</strong> arrive, when a <strong>new user joined</strong> the session, when a <strong>user published a video to the session</strong> or when some <strong>participant left</strong> the session.</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/websocket/CustomWebSocket.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/CustomWebSocket.java</a></p>

<pre><code class="java">private void handleServerEvent(JSONObject json) throws JSONException {
    if (!json.has(JsonConstants.PARAMS)) {
        Log.e(TAG, &quot;No params &quot; + json.toString());
    } else {
        final JSONObject params = new JSONObject(json.getString(JsonConstants.PARAMS));
        String method = json.getString(JsonConstants.METHOD);
        switch (method) {
            case JsonConstants.ICE_CANDIDATE:
                iceCandidateEvent(params);
                break;
            case JsonConstants.PARTICIPANT_JOINED:
                participantJoinedEvent(params);
                break;
            case JsonConstants.PARTICIPANT_PUBLISHED:
                participantPublishedEvent(params);
                break;
            case JsonConstants.PARTICIPANT_LEFT:
                participantLeftEvent(params);
                break;
            default:
                throw new JSONException(&quot;Unknown method: &quot; + method);
        }
    }
}
</code></pre>

<ul>
<li><code>iceCandidate</code>: this event brings a new ICE candidate generated in openvidu-server. We must include it in the proper PeerConnection object (we receive ICE candidates for our local PeerConnection and for each remote PeerConnection). To avoid timing problems, the application stores the received ICE candidates until that PeerConnection state is <code>STABLE</code>. Whenever it is reached, it processes all of them at once.</li>
<li><code>participantJoined</code>: this event tells us a new participant has joined our session. We initialize a new PeerConnection object (so we may receive the new user's camera stream) and a new video element in the UI.</li>
<li><code>participantPublished</code>: this event tells us a user has started sending a video to the session. We must start the ICE negotiation for receiving the new video stream over the proper and already initialized PeerConnection object. We do so by simply following WebRTC protocol: creating and setting a local SDP offer, sending it to openvidu-server with RPC method <code>receiveVideoFrom</code> and setting the answer received as remote SDP description of this PeerConnection.</li>
<li><code>participantLeftEvent</code>: dispatched when some user has left the session. We simply dispose the proper PeerConnection and update our view.<br><br></li>
</ul>
<hr />
<h4 id="sending-methods-to-openvidu-server">Sending methods to OpenVidu Server</h4>
<p>Below we list all the RPC methods that this Android app sends to OpenVidu Server. Each one of them will be answered by OpenVidu Server with a specific response. They must be properly processed and usually a new flow of method calls will follow the reception of these answers. We will not explain in detail every one of them to keep the length of this tutorial under control, but you can easily follow the flow of method calls in the source code.<br><br></p>
<h5 id="joining-a-session-with-joinroom-method">Joining a session with <code>joinRoom</code> method</h5>
<p>Once the websocket connection is established, we need to join to the session. By sending a JSON-RPC method <code>joinRoom</code> with the followings parameters we'll be able to connect to the session:</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/websocket/CustomWebSocket.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/CustomWebSocket.java</a></p>

<pre><code class="java">public void joinRoom() {
    Map&lt;String, String&gt; joinRoomParams = new HashMap&lt;&gt;();

    // Setting the joinRoom parameters
    joinRoomParams.put(JsonConstants.METADATA, &quot;{\&quot;clientData\&quot;: \&quot;&quot; + this.session.getLocalParticipant().getParticipantName() + &quot;\&quot;}&quot;);
    joinRoomParams.put(&quot;secret&quot;, &quot;&quot;);
    joinRoomParams.put(&quot;session&quot;, this.session.getId());
    joinRoomParams.put(&quot;platform&quot;, &quot;Android &quot; + android.os.Build.VERSION.SDK_INT);
    joinRoomParams.put(&quot;token&quot;, this.session.getToken());

    //Sending JSON through websocket specifying 'joinRoom' method.
    this.ID_JOINROOM.set(this.sendJson(JsonConstants.JOINROOM_METHOD, joinRoomParams));
}
</code></pre>

<p>As response we will receive an object with all the existing participants in the session and all the published streams. We first process them as explained in events <code>participantJoined</code> and <code>participantPublished</code> in previous section <a href="#listening-to-openvidu-server-events">Listening to OpenVidu Server events</a>. And we must publish our own camera by initializing our local PeerConnection and MediaStream and calling <code>publishVideo</code> RPC method (see next point).<br><br></p>
<h5 id="publishing-the-camera-with-publishvideo-method">Publishing the camera with <code>publishVideo</code> method</h5>
<p>We need to send a JSO-RPC message through the websocket with the required params as shown below:</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/websocket/CustomWebSocket.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/CustomWebSocket.java</a></p>

<pre><code class="Java">public void publishVideo(SessionDescription sessionDescription) {
    Map&lt;String, String&gt; publishVideoParams = new HashMap&lt;&gt;();

    // Setting the publishVideo parameters
    publishVideoParams.put(&quot;audioActive&quot;, &quot;true&quot;);
    publishVideoParams.put(&quot;videoActive&quot;, &quot;true&quot;);
    publishVideoParams.put(&quot;doLoopback&quot;, &quot;false&quot;);
    publishVideoParams.put(&quot;frameRate&quot;, &quot;30&quot;);
    publishVideoParams.put(&quot;hasAudio&quot;, &quot;true&quot;);
    publishVideoParams.put(&quot;hasVideo&quot;, &quot;true&quot;);
    publishVideoParams.put(&quot;typeOfVideo&quot;, &quot;CAMERA&quot;);
    publishVideoParams.put(&quot;videoDimensions&quot;, &quot;{\&quot;width\&quot;:320, \&quot;height\&quot;:240}&quot;);
    publishVideoParams.put(&quot;sdpOffer&quot;, sessionDescription.description);

    //Sending JSON through websocket specifying 'publishVideo' method.
    this.ID_PUBLISHVIDEO.set(this.sendJson(JsonConstants.PUBLISHVIDEO_METHOD, publishVideoParams));
}
</code></pre>

<p><br></p>
<h5 id="subscribing-to-a-remote-video-with-receivevideo-method">Subscribing to a remote video with <code>receiveVideo</code> method</h5>
<p>We need to send a JSON-RPC through the websocket with the required params as shown below:</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/websocket/CustomWebSocket.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/CustomWebSocket.java</a></p>

<pre><code class="Java">public void receiveVideoFrom(SessionDescription sessionDescription, RemoteParticipant remoteParticipant, String streamId) {
    Map&lt;String, String&gt; receiveVideoFromParams = new HashMap&lt;&gt;();
    receiveVideoFromParams.put(&quot;sdpOffer&quot;, sessionDescription.description);
    receiveVideoFromParams.put(&quot;sender&quot;, streamId);
    this.IDS_RECEIVEVIDEO.put(
        this.sendJson(JsonConstants.RECEIVEVIDEO_METHOD, receiveVideoFromParams),
            remoteParticipant.getConnectionId());
}
</code></pre>

<p><br></p>
<h5 id="leaving-the-session-with-leaveroom-method">Leaving the session with 'leaveRoom' method</h5>
<p>We need to send a JSON-RPC through the websocket (empty parameters in this case):</p>
<p style="text-align: center; font-weight: bold; margin-bottom: -9px; margin-top: 13px; font-size: 12px; word-break: break-word"><a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-android/app/src/main/java/io/openvidu/openvidu_android/websocket/CustomWebSocket.java" target="_blank">src/main/java/io/openvidu/openvidu_android/openvidu/CustomWebSocket.java</a></p>

<pre><code class="java">public void leaveRoom() {
    this.ID_LEAVEROOM.set(this.sendJson(JsonConstants.LEAVEROOM_METHOD));
}
</code></pre>

<p><br></p>
<hr />
<h2 id="android-specific-requirements">Android specific requirements</h2>
<p>Android apps need to actively ask for permissions in the code to access camera and microphone. By following steps below we have been able to properly set up the permissions your app will need to work along OpenVidu.
You have a great complete guide <a href="https://developer.android.com/training/permissions/requesting#java" target="_blank">here</a>.</p>
<p>These configurations are already included in this <strong>openvidu-android</strong> project, so if you start from here no further configurations are needed. Otherwise, if you want to <strong>start a new Android project</strong>, you should follow these simple steps:</p>
<p><strong>1)</strong> Add required permissions to your manifest file</p>
<pre><code class="xml">&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    package=&quot;io.openvidu.openvidu_android&quot;&gt;

    &lt;application&gt;
        ...
    &lt;/application&gt;

    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;
    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;

&lt;/manifest&gt;
</code></pre>

<p><strong>2)</strong> Check if your application has already the necessary permissions. To do so, call the <code>ContextCompat.checkSelfPermission()</code> method. For example:</p>
<pre><code class="java">if (ContextCompat.checkSelfPermission(this, Manifest.permission.CAMERA)
        != PackageManager.PERMISSION_GRANTED) {
    // Permission for camera is not granted
}
</code></pre>

<p>If the app already has the permission, the method returns <code>PackageManager.PERMISSION_GRANTED</code> and the app can proceed with the operation. If the app does not have the permission, the method returns <code>PackageManager.PERMISSION_DENIED</code>, and the app has to explicitly ask the user for permission.</p>
<p><strong>3)</strong> Android provides several methods to request for a permission, such as <code>requestPermissions()</code>, as shown in the code snippet below. Calling these methods brings up a standard Android dialog so the user may accept or decline the permissions.</p>
<pre><code class="java">// Here, &quot;this&quot; object is the current activity
if (ContextCompat.checkSelfPermission(this,
        Manifest.permission.READ_CONTACTS)
        != PackageManager.PERMISSION_GRANTED) {

    // Permission is not granted
    // Should we show an explanation?
    if (ActivityCompat.shouldShowRequestPermissionRationale(this,
            Manifest.permission.READ_CONTACTS)) {
        // Show an explanation to the user *asynchronously* -- don't block
        // this thread waiting for the user's response! After the user
        // sees the explanation, try again to request the permission.
    } else {
        // No explanation needed. Request the permission
        ActivityCompat.requestPermissions(this,
                new String[]{Manifest.permission.READ_CONTACTS},
                MY_PERMISSIONS_REQUEST_READ_CONTACTS);

        // MY_PERMISSIONS_REQUEST_READ_CONTACTS is an
        // app-defined int constant. The callback method gets the
        // result of the request.
    }
} else {
    // Permission has already been granted
}
</code></pre>

<p><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.1.20/jquery.fancybox.min.js"></script>
<script>
  $().fancybox({
    selector : '[data-fancybox]',
    infobar : true,
    arrows : false,
    loop: true,
    protect: true,
    transitionEffect: 'slide',
    buttons : [
        'close'
    ],
    clickOutside : 'close',
    clickSlide   : 'close',
  });
</script></p> 
					</div>
				</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="/docs/tutorials/openvidu-ionic/" class="btn btn-xs btn-primary float-right" title="openvidu-ionic">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="/docs/tutorials/openvidu-library-react/" class="btn btn-xs btn-primary" title="openvidu-library-react"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs//blob/master/docs/"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
			</div>
		</div>
	</section>
</div>

<script type="text/javascript">
	$(document).ready(function () {

		const ps = new PerfectScrollbar('#menu-list', {
			wheelSpeed: 1,
			wheelPropagation: true,
			suppressScrollX: true
		});

		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('openvidu-android')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			let submenu = $(this).parent().find('ul.subnav');
			submenu.toggle();
			submenu.parent().find('span.arrow-up').toggle();
			submenu.parent().find('span.arrow-down').toggle();
			ps.update();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('openvidu-android')").css('color', 'red');
</script>