---
layout: docs-layout
title: OpenVidu Documentation - openvidu-webcomponent
active: documentation
---

<script src="/js/plugins/jquery.min.js"></script>

<link rel="stylesheet" href="/css/syntax.css" />
<script src="/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<script type="text/javascript">
	$(document).ready(function () {
		$('li.subnav_drop').find('ul.subnav').hide();
		$(".subnav").find("li:contains('openvidu-webcomponent')").each(function (i, e) {
			var currentElement = $(e);
			currentElement.parent().css({
				"display": "block",
				"visibility": "visible"
			}); //css("background-color","blue");
			currentElement.css({
				"display": "block",
				"visibility": "visible"
			});
		});
		$('li.subnav_drop div').click(function (i, e) {
			//$('li.subnav_drop span').not(this).find('ul.subnav').hide();
			$(this).parent().find('ul.subnav').toggle();
		});

		var minHeight = $('#sticky-menu').outerHeight() + 100;
		$('#doc-container').css('min-height', minHeight + 'px');
	});

	$(".wy-nav-content").find("li:contains('openvidu-webcomponent')").css('color', 'red');
</script>

<div id="doc-container" class="container text-justify">
		<div id="sticky-menu" class="col-lg-3 col-md-4 col-sm-12 col-xs-12">

			
			<nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
				<div class="wy-menu wy-menu-vertical" role="navigation" aria-label="main navigation">
					<div id="site-menu-title">
						<h3>Explore docs</h3>
						<hr>
					</div>
					<ul id="menu-list" class="current">
						 
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../home/">What is OpenVidu?</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Tutorials</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../">Intro</a> 
</li>

   

<li class="toctree-l1 current">
    <a class="current" href="./">openvidu-webcomponent</a>  
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-hello-world/">openvidu-hello-world</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-insecure-js/">openvidu-insecure-js</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-insecure-angular/">openvidu-insecure-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-library-angular/">openvidu-library-angular</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-insecure-react/">openvidu-insecure-react</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-library-react/">openvidu-library-react</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-ionic/">openvidu-ionic</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-js-java/">openvidu-js-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-mvc-java/">openvidu-mvc-java</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-js-node/">openvidu-js-node</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../openvidu-mvc-node/">openvidu-mvc-node</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Demos</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-getaroom/">openvidu-getaroom</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-call/">openvidu-call</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-call-react/">openvidu-call-react</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-call-ionic/">openvidu-call-ionic</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../demos/openvidu-classroom/">openvidu-classroom</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>How do I ... ?</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/create-session/">Create a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/join-session/">Join a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/leave-session/">Leave a session</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/subscribe-unsubscribe/">Subscribe/Unsubscribe from a stream</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/publish-unpublish/">Publish/Unpublish a stream</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/mute-audio-video/">Mute/Unmute audio and video</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/manage-videos/">Manage video players</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/share-data/">Share data between users</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../how-do-i/send-messages/">Send text messages</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Advanced features</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/recording/">Recording</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/screen-share/">Screen share</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/speech-detection/">Speech detection</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../advanced-features/filters/">Voice and video filters</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Reference Documentation</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-browser/">openvidu-browser API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-java-client/">openvidu-java-client API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-node-client/">openvidu-node-client API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/REST-API/">REST  API</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-server-params/">OpenVidu Server configuration</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../reference-docs/openvidu-server-cdr/">OpenVidu Server CDR</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Deployment</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-demos-aws/">Deploying OpenVidu Demos on AWS (TUTORIAL)</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-aws/">Deploying OpenVidu Server and your app on AWS</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/deploying-ubuntu/">Deploying OpenVidu in Ubuntu</a> 
</li>

   

<li class="toctree-l1 ">
    <a class="" href="../../deployment/custom-certificate/">Using your own certificate</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="subnav_drop"><div><span>Contribute</span></div>
    <ul class="subnav" hidden>
          

<li class="toctree-l1 ">
    <a class="" href="../../developing/">Developing OpenVidu</a> 
</li>

 
</li>
</ul>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../troubleshooting/">Troubleshooting / FAQ</a> 
</li>

</ul>
						</li>
						  
						<li>
							<ul> 

<li class="toctree-l1 ">
    <a class="" href="../../releases/">Releases</a> 
</li>

</ul>
						</li>
						 
					</ul>
				</div>
				&nbsp;
			</nav>
		</div>

		<section class="col-lg-9 col-md-8 col-sm-12 col-xs-12">
			
			<div>
				<div>

					<div role="main">
						<div class="section">
							 <h1 id="openvidu-webcomponent">openvidu-webcomponent</h1>
<p><a href="https://github.com/OpenVidu/openvidu-tutorials/tree/master/openvidu-webcomponent" target="_blank"><i class="icon ion-social-github"> Check it on GitHub</i></a></p>
<p>OpenVidu Web Component is the simplest and quickest way to add videoconference capabilities to your existing web application. It brings many of the features of OpenVidu platform, making it very powerful.
With just a few lines of code you will have your first video call working!</p>
<h2 id="running-this-tutorial">Running this tutorial</h2>
<p>1) Clone the repo:</p>
<pre><code class="bash">git clone https://github.com/OpenVidu/openvidu-tutorials.git
</code></pre>

<p>2) You will need an http web server installed in your development computer to execute the tutorial. If you have <em>node.js</em> installed, you can use <a href="https://github.com/indexzero/http-server">http-server</a> to serve application files. It can be installed with:</p>
<pre><code class="bash">npm install -g http-server
</code></pre>

<p>3) Run the tutorial:</p>
<pre><code class="bash">http-server openvidu-tutorials/openvidu-webcomponent/web
</code></pre>

<p>4) <em>openvidu-server</em> and <em>Kurento Media Server</em> must be up and running in your development machine. The easiest way is running this Docker container which wraps both of them (you will need <a href="https://store.docker.com/search?type=edition&amp;offering=community">Docker CE</a>):</p>
<pre><code class="bash">docker run -p 4443:4443 --rm -e openvidu.secret=MY_SECRET openvidu/openvidu-server-kms:2.5.0
</code></pre>

<p>5) Go to <a href="http://localhost:8080"><code>localhost:8080</code></a> to test the app once the server is running. The first time you use the docker container, an alert message will suggest you accept the self-signed certificate of <em>openvidu-server</em> when you first try to join a video-call.</p>
<p><br></p>
<blockquote>
<p>If you are using <strong>Windows</strong>, read this <strong><a href="../../troubleshooting/#3-i-am-using-windows-to-run-the-tutorials-develop-my-app-anything-i-should-know">FAQ</a></strong> to properly run the tutorial</p>
<p>To learn <strong>some tips</strong> to develop with OpenVidu, check this <strong><a href="../../troubleshooting#2-any-tips-to-make-easier-the-development-of-my-app-with-openvidu">FAQ</a></strong></p>
</blockquote>
<h2 id="understanding-the-code">Understanding the code</h2>
<p>This application is very simple. It has only 4 files:</p>
<ul>
<li><code>openvidu-webcomponent-{VERSION}.js</code>: JavaScript file of OpenVidu Web Component. You don't have to manipulate this file.</li>
<li><code>openvidu-webcomponent-{VERSION}.css</code>: styles for OpenVidu Web Component. You don't have to manipulate this file.</li>
<li><code>app.js</code>: sample application main JavaScript file.</li>
<li><code>index.html</code>: HTML code of the application.</li>
</ul>
<p>Let's see how OpenVidu Web Component works:</p>
<hr />
<h4 id="indexhtml">index.html</h4>
<p>Inside of the <code>head</code> section of <code>index.html</code>, we reference our <code>app.js</code> script and <code>openvidu-webcomponent</code> files:</p>
<pre><code class="html">&lt;head&gt;

    &lt;!--... other imports ...--&gt;

    &lt;script src=&quot;app.js&quot;&gt;&lt;/script&gt;
    &lt;script src='openvidu-webcomponent-{VERSION}.js'&gt;&lt;/script&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;openvidu-webcomponent-{VERSION}.css&quot;&gt;
&lt;/head&gt;
</code></pre>

<p>As you can see, the <code>index.html</code> body has the form to connect to a video-session and the <strong>OpenVidu Web Component</strong>, which starts hidden:</p>
<pre><code class="html">&lt;body&gt;

    &lt;!-- Form to connect to a video-session --&gt;
    &lt;div id=&quot;main&quot; style=&quot;text-align: center;&quot;&gt;
        &lt;h1&gt;Join a video session&lt;/h1&gt;
        &lt;form onsubmit=&quot;joinSession(); return false&quot; style=&quot;padding: 80px; margin: auto&quot;&gt;
            &lt;p&gt;
                &lt;label&gt;Session:&lt;/label&gt;
                &lt;input type=&quot;text&quot; id=&quot;sessionName&quot; value=&quot;SessionA&quot; required&gt;
            &lt;/p&gt;
            &lt;p&gt;
                &lt;label&gt;User:&lt;/label&gt;
                &lt;input type=&quot;text&quot; id=&quot;user&quot; value=&quot;User1&quot; required&gt;
            &lt;/p&gt;
            &lt;p&gt;
                &lt;input type=&quot;submit&quot; value=&quot;JOIN&quot;&gt;
            &lt;/p&gt;
        &lt;/form&gt;
    &lt;/div&gt;

    &lt;!-- OpenVidu Web Component --&gt;
    &lt;openvidu-webcomponent style=&quot;display: none;&quot;&gt;&lt;/openvidu-webcomponent&gt;

&lt;/body&gt;
</code></pre>

<hr />
<h4 id="appjs-i-openvidu-web-component-events">app.js (I): OpenVidu Web Component events</h4>
<p>OpenVidu Web Component emits events <em><code>joinSession</code></em>, <em><code>leaveSession</code></em> or <em><code>error</code></em>, so we can handle them in our JavaScript code.
We just need to get the element once the document is ready and add all the listeners we want:</p>
<pre><code class="javascript">$(document).ready(() =&gt; {
    var webComponent = document.querySelector('openvidu-webcomponent');

    webComponent.addEventListener('joinSession', (event) =&gt; {
        // Do something
    });
    webComponent.addEventListener('leaveSession', (event) =&gt; {
        // Do something
    });
    webComponent.addEventListener('error', (event) =&gt; {
        // Do something
    });
});
</code></pre>

<p>In this tutorial, we just alternate the view between the form and the web component, hiding or showing them when receiving <code>joinSession</code> or <code>leaveSession</code> events.</p>
<hr />
<h4 id="appjs-ii-configuring-openvidu-web-component">app.js (II): Configuring OpenVidu Web Component</h4>
<p>Method <code>joinSession()</code> gets:</p>
<ul>
<li>The form input values, with the video-call to connect and the nickname the user will have in it.</li>
<li>The <code>token</code> from OpenVidu Server. Check out <a href="#get-a-token-from-openvidu-server">next point</a> to see how this is done.</li>
</ul>
<p>When we have our token available, the only thing left to do is to give the desired configuration to openvidu-webcomponent. To do so we use an object with three parameters: <code>sessionName</code>, <code>user</code> and <code>token</code>.</p>
<ul>
<li><code>sessionName</code>: the session name that will be displayed inside the component</li>
<li><code>user</code>: the nickname that the user will have in the session</li>
<li><code>token</code>: the retrieved token from OpenVidu Server</li>
</ul>
<pre><code class="javascript">function joinSession() {
    var sessionName = document.getElementById('sessionName').value;
    var user = document.getElementById('user').value;

    getToken(sessionName).then((token) =&gt; {
        var webComponent = document.querySelector('openvidu-webcomponent');
        webComponent.sessionConfig = { sessionName, user, token };
    });
}
</code></pre>

<p>That's it. Once you configure the token into the webcomponent, it will automatically join the proper session (<code>joinSession</code> event will be dispatched so you can update your web). The user will see in the webcomponent all other users joined to the same session and will publish the webcam. You have a video-call working!</p>
<hr />
<h4 id="get-a-token-from-openvidu-server">Get a <em>token</em> from OpenVidu Server</h4>
<div style="
    display: table;
    border: 1px solid #0088aa;
    border-radius: 5px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 25px;"><div style="display: table-cell">
    <i class="icon ion-android-alert" style="
    font-size: 50px;
    color: #0088aa;
    display: inline-block;
    padding-left: 25%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">
    <strong>WARNING</strong>: This makes this tutorial an insecure application. We need to ask OpenVidu Server for a user token in order to connect to our session. <strong>This process should entirely take place in our server-side</strong>, not in our client-side. But due to the lack of an application backend in this tutorial, the JavaScript code itself will perform the POST operations to OpenVidu Server
</div>
</div>

<pre><code class="javascript">getToken(sessionName).then((token) =&gt; {
    // Send the 'token' to OpenVidu web component
});
</code></pre>

<p>In a production environment we would perform this operations in our application backend, by making use of the <a href="../../reference-docs/REST-API/">API REST</a>, <a href="../../reference-docs/openvidu-java-client/">OpenVidu Java Client</a> or <a href="../../reference-docs/openvidu-node-client/">OpenVidu Node Client</a>. Here we have implemented the POST requests to OpenVidu Server in a method <code>getToken()</code> that returns a Promise with the token. Without going into too much detail, this method performs two <em>ajax</em> requests to OpenVidu Server, passing OpenVidu Server secret to authenticate them:</p>
<ul>
<li>First ajax request performs a POST to <code>/api/sessions</code> (we send a <code>customSessionId</code> field to name the session with our <code>sessionName</code> value retrieved from HTML input)</li>
<li>Second ajax request performs a POST to <code>/api/tokens</code> (we send a <code>session</code> field to assign the token to this same session)</li>
</ul>
<p>You can inspect this method in detail in the <a href="https://github.com/OpenVidu/openvidu-tutorials/blob/master/openvidu-webcomponent/web/app.js#L43">GitHub repo</a>.</p>
<hr>

<h2 id="extra-features-of-openvidu-web-component">Extra features of OpenVidu Web Component</h2>
<h4 id="alternatives-to-connect-to-openvidu-session">Alternatives to connect to OpenVidu session</h4>
<p>In the example above, <strong>OpenVidu Web Component</strong> receives the <code>sessionConfig</code> parameter dynamically like this: </p>
<pre><code class="javascript">webComponent.sessionConfig = { sessionId, user, token };
</code></pre>

<p>But you can also set them statically, for example if you are building your template in the backend:</p>
<pre><code class="html">&lt;openvidu-webcomponent session-config='{&quot;sessionName&quot;:&quot;SessionA&quot;, &quot;user&quot;:&quot;User1&quot;, &quot;token&quot;: &quot;TOKEN_RETRIEVED_FROM_OPENVIDU_SERVER&quot;}'&gt;&lt;/openvidu-webcomponent&gt;
</code></pre>

<p>And if you want to let the webcomponent get the token for you, you can just dispense with the token and provide two more attributes to it. This is only meant for developing purposes, as you need to hardcode the secret of your OpenVidu Server in the JavaScript code:</p>
<pre><code class="html">&lt;openvidu-webcomponent session-config='{&quot;sessionName&quot;:&quot;SessionA&quot;, &quot;user&quot;:&quot;User1&quot;}'
openvidu-server-url=&quot;https://localhost:4443&quot; openvidu-secret=&quot;MY_SECRET&quot;&gt;&lt;/openvidu-webcomponent&gt;
</code></pre>

<div style="
    display: table;
    border: 1px solid #0088aa;
    border-radius: 5px;
    width: 100%;
    margin-top: 30px;
    margin-bottom: 25px;"><div style="display: table-cell">
    <i class="icon ion-android-alert" style="
    font-size: 50px;
    color: #0088aa;
    display: inline-block;
    padding-left: 25%;
"></i></div>
<div style="
    vertical-align: middle;
    display: table-cell;
    padding-left: 20px;
    padding-right: 20px;
    ">
    <strong>WARNING</strong>: As you can see, when you add parameters to OpenVidu web component statically, you have to replace the <strong>camelCase</strong> with a <strong>hyphen between words</strong>.
</div>
</div>

<h4 id="close-the-session-dynamically">Close the session dynamically</h4>
<p>You can also disconnect the user from the session assigning dynamically <code>undefined</code> to the <strong>sessionConfig</strong> property :</p>
<pre><code class="javascript">ov.sessionConfig = undefined;
</code></pre>

<h4 id="choose-a-theme">Choose a theme</h4>
<p>OpenVidu  allows you to choose between two themes. By default, the theme selected is <strong>dark theme</strong> but if you prefer change it for a <strong>light them</strong>, you can add <code>theme="light"</code></p>
<pre><code class="html">&lt;openvidu-webcomponent theme=&quot;light&quot;&gt;&lt;/openvidu-webcomponent&gt;
</code></pre> 
						</div>
					</div> <footer>
<hr>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../openvidu-hello-world/" class="btn btn-xs btn-primary float-right" title="openvidu-hello-world">Next &raquo;<span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../" class="btn btn-xs btn-primary" title="Intro"><span class="icon icon-circle-arrow-left"></span> &laquo; Prev</a>
      
    </div>
  


  
  <div id="edit-github">
  
	  <a href="https://github.com/OpenVidu/openvidu.io-docs/blob/master/docs/tutorials/openvidu-webcomponent.md"><i class="icon ion-social-github"></i> Edit Documentation on GitHub</a>
  
  </div>
</footer> 
				</div>
			</div>
		</section>
</div>